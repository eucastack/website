<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>EucaStack – Best Practices</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/</link><description>Recent content in Best Practices on EucaStack</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://www.eucastack.io/docs/admin_guide/security_section/bp_security/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Authentication and Access Control Best Practices</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_access/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_access/</guid><description>
&lt;p>This topic describes best practices for Identity and Access Management and the account.&lt;/p>
&lt;h2 id="identity-and-access-management">Identity and Access Management&lt;/h2>
&lt;p>Eucalyptus manages access control through an authentication, authorization, and accounting system. This system manages user identities, enforces access controls over resources, and provides reporting on resource usage as a basis for auditing and managing cloud activities. The user identity organizational model and the scheme of authorizations used to access resources are based on and compatible with the AWS Identity and Access Management (IAM) system, with some Eucalyptus extensions provided that support ease-of-use in a private cloud environment.&lt;/p>
&lt;p>For a general introduction to IAM in Eucalyptus, see &lt;a href="https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/concepts_eiam/">Access Concepts&lt;/a> in the IAM Guide. For information about using IAM quotas to enforce limits on resource usage by users and accounts in Eucalyptus, see the &lt;a href="https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/access_policies/access_policy_quota/">Quotas&lt;/a> section in the IAM Guide.&lt;/p>
&lt;p>The &lt;a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/IAMBestPractices.html">Amazon Web Services IAM Best Practices&lt;/a> are also generally applicable to Eucalyptus.&lt;/p>
&lt;h2 id="credential-management">Credential Management&lt;/h2>
&lt;p>Protection and careful management of user credentials (passwords, access keys, X.509 certificates, and key pairs) is critical to cloud security. When dealing with credentials, we recommend:&lt;/p>
&lt;ul>
&lt;li>Limit the number of active credentials and do not create more credentials than needed.&lt;/li>
&lt;li>Only create users and credentials for the interfaces that you will actually use. For example, if a user is only going to use the Management Console, do not create credentials access keys for that user.&lt;/li>
&lt;li>Use and or to get a specific set of credentials if needed.&lt;/li>
&lt;li>Regularly check for active credentials using commands and remove unused credentials. Ideally, only one pair of active credentials should be available at any time.&lt;/li>
&lt;li>Rotate credentials regularly and delete old credentials as soon as possible. Credentials can be created and deleted using commands, such as and .&lt;/li>
&lt;li>When rotating credentials, there is an option to deactivate, instead of removing, existing access/secret keys and X.509 certificates. Requests made using deactivated credentials will not be accepted, but the credentials remain in the Eucalyptus database and can be restored if needed. You can deactivate credentials using and .&lt;/li>
&lt;/ul>
&lt;h2 id="privileged-roles">Privileged Roles&lt;/h2>
&lt;p>The &lt;code>eucalyptus&lt;/code> account is a super-privileged account in Eucalyptus. It has access to all cloud resources, cloud setup, and management. The users within this account do not obey IAM policies and compromised credentials can result in a complete cloud compromisation that is not easy to contain. We recommend limiting the use of this account and associated users&amp;rsquo; credentials as much as possible.&lt;/p>
&lt;p>For all unprivileged operations, use regular accounts. If you require super-privileged access (for example, management of resources across accounts and cloud setup administration), we recommend that you use one of the predefined privileged roles.&lt;/p>
&lt;p>The Account, Infrastructure, and Resource Administrator &lt;a href="https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/concepts_eiam/access_roles/">roles&lt;/a> provide a more secure way to gain super privileges in the cloud. Credentials returned by an assume-role operation are short-lived (unlike regular user credentials). Privileges available to each role are limited in scope and can be revoked easily by modifying the trust or access policy for the role.&lt;/p></description></item><item><title>Docs: Hosts</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_host/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_host/</guid><description>
&lt;p>This topic describes best practices for machines that host a Eucalyptus component.Eucalyptus recommends restricting physical and network access to all hosts comprising the Eucalyptus cloud, and disabling unused applications and ports on all machines used in your cloud.&lt;/p>
&lt;p>After installation, no local access to Eucalyptus component hosts is required for normal cloud operations and all normal cloud operations can be done over remote web service APIs.&lt;/p>
&lt;p>The user-facing services (UFS) and object storage gateway (OSG) are the only two components that generally expect remote connections from end users. Each Eucalyptus component can be put behind a firewall following the list of open ports and connectivity requirements described in the &lt;a href="https://www.eucastack.io/docs/admin_guide/security_section/security_tasks/configuring_iptables/">Configure the Firewall&lt;/a> section.&lt;/p>
&lt;p>For more information on securing Red Hat hosts, see the &lt;a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/index">Red Hat Enterprise Linux Security Guide&lt;/a> .&lt;/p></description></item><item><title>Docs: Images and Instances</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_instances/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_instances/</guid><description>
&lt;p>Because all instances are based on images, creating a secure image helps to create secure instances. This topic lists best practices that will add additional security during image creation. As a general rule, harden your images similar to how you would harden your physical servers.&lt;/p>
&lt;ul>
&lt;li>Turn off password-based authentication by specifying the following option in :&lt;/li>
&lt;li>Encourage non-root access by providing an unprivileged user account. If necessary, use sudo to allow access to privileged commands&lt;/li>
&lt;li>Always delete the shell history and any other potentially sensitive information before bundling. If you attempt more than one bundle upload in the same image, the shell history contains your secret access key.&lt;/li>
&lt;li>Bundling a running instance requires your private key and X.509 certificate. Put these and other credentials in a location that is not bundled (e.g. when using , pass the folder location where the certificates are stored as part of the values for the option). AWS provides more in-depth information on .&lt;/li>
&lt;li>Consider installing in the image to help control root and non-root access. If cloud-init isn&amp;rsquo;t available, a custom script can be used.&lt;/li>
&lt;li>Consider using a tool such as zerofree to zero-out any unused space on the image.&lt;/li>
&lt;li>Consider editing to clear out the swap every time the instance is booted. This can be done using the following command:&lt;/li>
&lt;li>Consider enabling or for your images&lt;/li>
&lt;li>Disable all unused services and ports on the image.&lt;/li>
&lt;li>By default, all images registered have private launch permissions. Consider using to limit the accounts that can access the image.
After locking down the image using the steps above, additional steps can be done to further secure instances started from that image. For example, restrict access to the instance by allowing only trusted hosts or networks to access ports on your instances. You can control access to instances using &lt;code>euca-authorize&lt;/code> and &lt;code>euca-revoke&lt;/code> .&lt;/li>
&lt;/ul>
&lt;p>Consider creating one security group that allows external logins and keep the remainder of your instances in a group that does not allow external logins. Review the rules in your security groups regularly, and ensure that you apply the principle of least privilege: only open up permissions as they are required. Use different security groups to deal with instances that have different security requirements.&lt;/p></description></item><item><title>Docs: Management Console</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_uc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_uc/</guid><description>
&lt;p>This topic describes things you can do to secure the Eucalyptus Management Console.&lt;/p>
&lt;ul>
&lt;li>Enable HTTPS for communications with the console and configure the console to use a CA-signed certificate.&lt;/li>
&lt;li>We do not recommend the &amp;ldquo;Remember my keys&amp;rdquo; option for &amp;ldquo;Login to AWS&amp;rdquo; because it stores AWS credentials in your browser&amp;rsquo;s local storage and increases the security risk of AWS credentials being compromised.&lt;/li>
&lt;li>Change the default session timeouts if needed. For more information, see .&lt;/li>
&lt;li>If you don&amp;rsquo;t use the Management Console, we recommend that you disable (using ). For more information, see .&lt;/li>
&lt;li>Turn off password autocomplete for the console by setting the configuration option to false in the console’s configuration file.&lt;/li>
&lt;li>If memcached is configured to be used by the console, make sure it’s not exposed publicly because there is no authentication mechanism enabled out of the box. If the default Eucalyptus-provided configuration is used, it accepts connections only from localhost.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Message Security</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_networking/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/security_bp_networking/</guid><description>
&lt;p>This topic describes which networking mode is the most secure, and describes how to enforce message security.&lt;/p>
&lt;h2 id="replay-detection">Replay Detection&lt;/h2>
&lt;p>Eucalyptus components receive and exchange messages using either Query or SOAP interfaces (or both). Messages received over these interfaces are required to have a time stamp (as defined by AWS specification) to prevent message replay attacks. Because Eucalyptus enforces strict policies when checking timestamps in the received messages, for the correct functioning of the cloud infrastructure, it is crucial to have clocks constantly synchronized (for example, with ntpd) on all machines hosting Eucalyptus components. To prevent user commands failures, it is also important to have clocks synchronized on the client machines.&lt;/p>
&lt;p>Following the AWS specification, all Query interface requests containing the Timestamp element are rejected as expired after 15 minutes of the timestamp. Requests containing the Expires element expire at the time specified by the element. SOAP interface requests using WS-Security expire as specified by the WS-Security Timestamp element.&lt;/p>
&lt;p>Replay detection parameters can be tuned as described in &lt;a href="https://www.eucastack.io/docs/admin_guide/security_section/security_tasks/security_task_replays/">Configure Replay Protection&lt;/a> .&lt;/p>
&lt;h2 id="endpoints">Endpoints&lt;/h2>
&lt;p>Eucalyptus requires that all user requests (SOAP with WS-Security and Query) are signed, and that their content is properly hashed, to ensure integrity and non-repudiation of messages. For stronger security, and to ensure message confidentiality and server authenticity, client tools and applications should always use SSL/TLS protocols with server certification verification enabled for communications with Eucalyptus components.&lt;/p>
&lt;p>By default, Eucalyptus components are installed with self-signed certificates. For public Eucalyptus endpoints, certificates signed by a trusted CA provider should be installed.&lt;/p></description></item><item><title>Docs: Networking Modes</title><link>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/bp_networking/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.eucastack.io/docs/admin_guide/security_section/bp_security/bp_networking/</guid><description>
&lt;p>This topic describes the recommendations for networking modes.A Eucalyptus deployment can be configured in EDGE (AWS EC2 Classic compatible) or VPCMIDO (AWS VPC compatible) networking modes. In both modes, by default, instances are not allowed to send traffic with spoofed IP and/or MAC addresses and receive traffic that are not destined to their own IP and/or MAC addresses. Security groups should be used to control the ingress traffic to instances (EDGE and VPCMIDO modes) and to control the egress traffic from instances (VPCMIDO mode).&lt;/p>
&lt;p>VPCMIDO mode offers many security features not present in EDGE mode. Instances of different accounts are deployed in user-defined isolated networks within a Eucalyptus cloud. A combination of security features including VPC, VPC subnets, security groups, source/destination check configuration, route tables, internet gateways, and NAT gateways can be used to selectively enable and configure network access to/from instances or group of instances.&lt;/p>
&lt;p>For more information about choosing a networking modes, see &lt;a href="https://www.eucastack.io/docs/install_guide/eucalyptus/planning/planning_networking_modes/">Plan Networking Modes&lt;/a> .&lt;/p></description></item></channel></rss>