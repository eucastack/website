<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.99.0"><link rel=canonical type=text/html href=https://www.eucastack.io/docs/admin_guide/><link rel=alternate type=application/rss+xml href=https://www.eucastack.io/docs/admin_guide/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Administration Guide | EucaStack</title><meta name=description content="Administration Guide
This section contains concepts and tasks to help you manage your Eucalyptus cloud.
"><meta property="og:title" content="Administration Guide"><meta property="og:description" content="A Docsy example site"><meta property="og:type" content="website"><meta property="og:url" content="https://www.eucastack.io/docs/admin_guide/"><meta property="og:site_name" content="EucaStack"><meta itemprop=name content="Administration Guide"><meta itemprop=description content="A Docsy example site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Administration Guide"><meta name=twitter:description content="A Docsy example site"><link rel=preload href=/scss/main.min.dbc832a6b41f9cb352db274e4a5e4f9087c9f9f914bcd919a25e9dad92d530f3.css as=style><link href=/scss/main.min.dbc832a6b41f9cb352db274e4a5e4f9087c9f9f914bcd919a25e9dad92d530f3.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg viewBox="0 0 1388.9 333.38" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(-136.21 41.582)"><path transform="matrix(.26458 0 0 .26458 136.21 -41.582)" d="m1616.4 487.23c-38.46.0-73.324 9.8216-104.59 29.467s-55.615 47.177-73.047 82.594c-17.155 35.14-25.732 75.123-25.732 119.95v12.451c0 66.96 19.782 120.64 59.35 161.04 39.844 40.12 91.725 60.18 155.64 60.18 37.354.0 70.971-7.3314 100.85-21.996 30.16-14.941 54.232-35.833 72.217-62.672l-54.369-51.879c-29.053 37.354-66.683 56.029-112.89 56.029-32.926.0-60.319-10.791-82.178-32.373-21.582-21.582-33.896-50.911-36.939-87.988h293.43v-40.674c0-71.387-16.741-126.59-50.221-165.6-33.203-39.014-80.378-58.52-141.53-58.52zm927.61.0c-63.086.0-112.89 20.613-149.41 61.84-36.523 40.951-54.785 95.598-54.785 163.94v10.377c0 71.663 18.399 127.83 55.199 168.51 36.8 40.674 86.605 61.01 149.41 61.01 32.373.0 62.532-7.0547 90.478-21.166 27.946-14.111 50.081-33.203 66.406-57.275 16.325-24.349 25.042-50.497 26.148-78.443h-95.045c-1.1067 21.582-9.9609 39.706-26.562 54.371-16.602 14.665-37.491 21.996-62.67 21.996-33.203.0-58.659-11.898-76.367-35.693-17.432-24.072-26.148-60.456-26.148-109.15v-16.188c.2767-48.145 9.2702-83.975 26.978-107.49 17.708-23.796 42.887-35.695 75.537-35.695 25.456.0 46.345 8.3008 62.67 24.902 16.602 16.602 25.456 37.77 26.562 63.502h95.045c-1.6602-50.635-19.368-91.448-53.125-122.44-33.48-31.266-76.921-46.898-130.32-46.898zm439.94.0c-34.587.0-65.992 6.0872-94.215 18.262-27.946 12.174-50.081 29.053-66.406 50.635-16.325 21.305-24.486 44.271-24.486 68.896h100.85c0-17.708 7.3333-32.236 21.998-43.58 14.665-11.621 33.48-17.432 56.445-17.432 26.562.0 46.345 7.0566 59.35 21.168 13.004 13.835 19.508 32.373 19.508 55.615v29.469h-61.842c-66.13.0-117.04 12.865-152.73 38.598-35.417 25.456-53.125 62.118-53.125 109.99.0 37.907 14.251 69.727 42.75 95.459s65.299 38.598 110.4 38.598c46.484.0 85.775-16.739 117.87-50.219 3.3203 19.369 7.194 33.34 11.621 41.918h102.93v-7.0547c-11.344-24.072-17.018-56.308-17.018-96.705v-202.54c-.8301-47.868-16.878-84.945-48.144-111.23-31.266-26.563-73.184-39.844-125.76-39.844zm-1099.9 8.3008v290.94c0 53.955 12.451 95.182 37.354 123.68 25.179 28.499 62.118 42.748 110.82 42.748 54.508.0 96.566-17.432 126.17-52.295l2.4903 43.994h95.045v-449.07h-100.86v322.49c-17.155 35.14-50.221 52.709-99.195 52.709-47.314.0-70.971-28.499-70.971-85.498v-289.7h-100.86zm-268.12 72.631c27.946.0 49.805 8.7168 65.576 26.148 15.772 17.155 24.765 42.611 26.978 76.367v7.4707h-192.16c4.7038-34.587 15.495-61.563 32.373-80.932 17.155-19.369 39.567-29.055 67.236-29.055zm1386.6 165.6h54.371v84.668c-8.8542 16.325-22.135 29.329-39.844 39.014-17.432 9.6842-36.109 14.527-56.031 14.527-21.582.0-38.874-5.6732-51.879-17.018-12.728-11.621-19.092-27.116-19.092-46.484.0-23.796 9.4075-42.195 28.223-55.199 18.815-13.005 46.898-19.508 84.252-19.508z" fill="#fff"/><path transform="matrix(.26458 0 0 .26458 136.21 -41.582)" d="m4889.8 307.1v637.5h100.85V798.09l44.824-46.07 133.23 192.58h116.62l-184.69-261.89 166.85-187.18h-121.19l-124.1 139.87-31.543 39.43V307.11h-100.85zm-1162.1 79.271v109.16h-73.877v74.707h73.877v254.42c0 85.498 38.737 128.25 116.21 128.25 21.305.0 43.441-3.181 66.406-9.5449v-78.027c-11.898 2.7669-23.656 4.1504-35.277 4.1504-17.432.0-29.606-3.7364-36.523-11.207-6.6406-7.7474-9.9609-20.199-9.9609-37.354v-250.68h79.272v-74.707h-79.272v-109.16h-100.86zm-296.34 100.86c-50.358.0-91.862 13.005-124.51 39.014-32.65 26.009-48.975 58.382-48.975 97.119.0 46.208 25.179 81.487 75.537 105.84 22.965 11.068 51.602 20.199 85.912 27.393 34.31 7.194 58.798 15.495 73.463 24.902 14.942 9.4076 22.412 23.103 22.412 41.088.0 16.325-6.9174 29.606-20.752 39.844-13.835 9.9609-34.033 14.941-60.596 14.941-27.392.0-49.39-6.3639-65.992-19.092-16.602-13.005-25.593-31.404-26.977-55.199h-97.949c0 26.839 8.0241 51.879 24.072 75.121 16.048 23.242 38.46 41.504 67.236 54.785s61.563 19.922 98.363 19.922c54.232.0 98.088-12.451 131.57-37.354 33.48-25.179 50.221-57.966 50.221-98.363.0-24.072-5.5338-44.548-16.602-61.426-10.791-16.878-27.532-31.266-50.221-43.164-22.412-12.174-53.402-22.551-92.969-31.129-39.567-8.8542-65.853-17.569-78.857-26.146-13.005-8.5775-19.508-20.615-19.508-36.109.0-17.155 6.9173-30.852 20.752-41.09 14.112-10.238 32.236-15.355 54.371-15.355 23.795.0 42.887 6.5013 57.275 19.506 14.388 12.728 21.582 28.776 21.582 48.145h100.86c0-42.334-16.602-76.781-49.805-103.34-32.926-26.563-76.23-39.844-129.91-39.844zm733.79.0c-34.587.0-65.99 6.0872-94.213 18.262-27.946 12.174-50.081 29.053-66.406 50.635-16.325 21.305-24.488 44.271-24.488 68.896h100.86c0-17.708 7.3313-32.236 21.996-43.58 14.665-11.621 33.48-17.432 56.445-17.432 26.562.0 46.347 7.0566 59.352 21.168 13.005 13.835 19.506 32.373 19.506 55.615v29.469h-61.84c-66.13.0-117.04 12.865-152.73 38.598-35.417 25.456-53.125 62.118-53.125 109.99.0 37.907 14.249 69.727 42.748 95.459 28.499 25.732 65.3 38.598 110.4 38.598 46.484.0 85.775-16.739 117.87-50.219 3.3202 19.369 7.194 33.34 11.621 41.918h102.93v-7.0547c-11.344-24.072-17.016-56.308-17.016-96.705v-202.54c-.83-47.868-16.878-84.945-48.144-111.23-31.266-26.563-73.186-39.844-125.76-39.844zm464.84.0c-63.086.0-112.89 20.613-149.41 61.84-36.524 40.951-54.785 95.598-54.785 163.94v10.377c0 71.663 18.401 127.83 55.201 168.51 36.8 40.674 86.605 61.01 149.41 61.01 32.373.0 62.532-7.0547 90.479-21.166 27.946-14.111 50.081-33.203 66.406-57.275 16.325-24.349 25.042-50.497 26.148-78.443h-95.045c-1.1066 21.582-9.9608 39.706-26.562 54.371-16.601 14.665-37.493 21.996-62.672 21.996-33.203.0-58.659-11.898-76.367-35.693-17.432-24.072-26.146-60.456-26.146-109.15V711.36c.2769-48.145 9.2682-83.975 26.976-107.49 17.708-23.796 42.888-35.695 75.537-35.695 25.456.0 46.347 8.3008 62.672 24.902 16.602 16.602 25.456 37.77 26.562 63.502h95.045c-1.6602-50.635-19.37-91.448-53.127-122.44-33.48-31.266-76.921-46.898-130.32-46.898zm-446.17 246.53h54.369v84.668c-8.8541 16.325-22.135 29.329-39.844 39.014-17.432 9.6842-36.107 14.527-56.029 14.527-21.582.0-38.876-5.6732-51.881-17.018-12.728-11.621-19.092-27.116-19.092-46.484.0-23.796 9.4075-42.195 28.223-55.199 18.815-13.005 46.9-19.508 84.254-19.508z" fill="#8bc13a"/></g><g transform="translate(9.5814 7.9375)"><path transform="scale(.26458)" d="m560.34-22.102-558.42 231.31c-21.06 8.7235-38.133 34.275-38.133 57.07v688.09c0 11.398 8.5364 24.173 19.067 28.535l577.49 239.2c10.53 4.3617 27.603 4.3617 38.133.0l558.42-231.31c21.06-8.7235 38.133-34.275 38.133-57.07v-688.09c0-11.398-8.5364-24.173-19.067-28.535l-577.49-239.2c-10.53-4.3617-27.603-4.3617-38.133.0z" fill="#fff"/></g><g transform="translate(-1331.7 150.96)"><g transform="translate(-.13227 -.14313)"><path transform="scale(.26458)" d="m5651.4-517.82c-4.3107-.18795-9.0505.68347-14.025 2.7441l-507.35 210.15c-19.9 8.2427-36.031 32.385-36.031 53.924v642c0 11.537 4.7163 19.84 12.072 23.934v.06641l1.0156.41992c1.147.55934 2.2859 1.1151 3.5469 1.4688l116.15 48.111v-90l410.6-170.08c19.9-8.2427 36.031-32.385 36.031-53.924v-581l108.64 45v-80l-120.26-49.812c-3.0346-1.7765-6.523-2.8394-10.385-3.0078z" fill="#8bc13a"/><path d="m1379.7 116.68V-53.18c0-5.6989 4.2682-12.087 9.5333-14.268l134.24-55.602c5.2651-2.1809 9.5333.67105 9.5333 6.3699v169.86c0 5.6989-4.2682 12.087-9.5333 14.268l-134.24 55.602c-5.2651 2.1809-9.5333-.67105-9.5333-6.3699z" fill="#003556"/><path transform="scale(.26458)" d="m5856.6-432.82c-4.3107-.18795-9.0505.68347-14.025 2.7441l-507.35 210.15c-19.9 8.2427-36.031 32.385-36.031 53.924v642c0 11.536 4.7155 19.84 12.07 23.934v.06641l1.0352.42969c1.1397.55448 2.2713 1.1073 3.5234 1.459l116.15 48.111v-90l410.6-170.08c19.9-8.2427 36.031-32.385 36.031-53.924v-561l108.64 45v-1e2l-120.26-49.812c-3.0347-1.7765-6.525-2.8394-10.387-3.0078z" fill="#8bc13a"/><path d="m1434 139.17V-30.69c0-5.6989 4.2682-12.087 9.5333-14.268l134.24-55.602c5.2651-2.1809 9.5333.67105 9.5333 6.3699v169.86c0 5.6989-4.2682 12.087-9.5333 14.268l-134.24 55.602c-5.2651 2.1809-9.5333-.67105-9.5333-6.3699z" fill="#003556"/><path transform="scale(.26458)" d="m6061.8-347.82c-4.3107-.18795-9.0505.68347-14.025 2.7441l-507.35 210.15c-19.9 8.2427-36.031 32.385-36.031 53.924v642c1e-4 11.537 4.7163 19.84 12.072 23.934v.06641l1.0156.41992c1.147.55934 2.2859 1.1151 3.5469 1.4688l116.15 48.111v-90l410.6-170.08c19.9-8.2427 36.031-32.385 36.031-53.924v-561l108.64 45v-1e2l-120.25-49.811c-3.036-1.7784-6.5287-2.8413-10.393-3.0098z" fill="#8bc13a"/><path d="m1488.3 161.66v-169.86c0-5.6989 4.2682-12.087 9.5333-14.268l134.24-55.602c5.2651-2.1809 9.5333.67105 9.5333 6.3699v169.86c0 5.6989-4.2682 12.087-9.5333 14.268l-134.24 55.602c-5.2651 2.1809-9.5333-.67105-9.5333-6.3699z" fill="#003556"/><path d="m1520.2-14.532 89.523-37.082c5.2651-2.1809 9.5333.67105 9.5333 6.3699v135.47c0 5.6989-4.2682 12.087-9.5333 14.268l-89.523 37.082c-5.2651 2.1809-9.5333-.67104-9.5333-6.3699v-135.47c0-5.6989 4.2682-12.087 9.5333-14.268z" fill="#fff"/><path d="m1596.9 85.99-63.876 26.458-1e-4-46.302 49.504-20.505V29.766l-49.504 20.505 1e-4-46.302 63.876-26.458z" fill="#8bc13a"/></g></g></svg></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><i class="fas fa-book"></i><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><i class="fas fa-rss"></i><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><i class="fas fa-users"></i><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/admin_guide/>Return to the regular view of this page</a>.</p></div><h1 class=title>Administration Guide</h1><ul><li>1: <a href=#pg-074ed240259ce2673819b6d36b698b33>Management Overview</a></li><ul><li>1.1: <a href=#pg-08cc7e8e4f67103184d84c0c0eae071f>Overview of Eucalyptus</a></li><ul></ul><li>1.2: <a href=#pg-27f8046ed1bbae7b0d4a03fc2af70fcd>Command Line Interface</a></li><ul></ul></ul><li>2: <a href=#pg-7c57425594226a312363f5d8cfd308cc>Manage Your Cloud</a></li><ul><li>2.1: <a href=#pg-b3a46ec9125656b706d97df986bc7a8e>Cloud Overview</a></li><ul></ul><li>2.2: <a href=#pg-d73ed3e9be6276adf1279150e887ad16>Cloud Best Practices</a></li><ul><li>2.2.1: <a href=#pg-0c436b3bf6b70c20c0ce3404204c17f4>Synchronize Clocks</a></li><ul></ul><li>2.2.2: <a href=#pg-cc2d80c5dff82bc6fab5e1644ee01aca>Configure SSL</a></li><ul></ul><li>2.2.3: <a href=#pg-f68cd1ff367b861eaae9def533f65647>Storage Volumes</a></li><ul></ul></ul><li>2.3: <a href=#pg-6099fc0dd7ed56fbedde6ac653013f29>Cloud Tasks</a></li><ul><li>2.3.1: <a href=#pg-25c5c10adb123e14983d2795cb6da1e4>Inspect System Health</a></li><ul></ul><li>2.3.2: <a href=#pg-767e10bba226dfa998d960b8f8db15a1>View User Resources</a></li><ul></ul><li>2.3.3: <a href=#pg-40eae85392833eb096392d5106a8dc59>Change Network Configuration</a></li><ul><li>2.3.3.1: <a href=#pg-b9e646cefa91214c3c1dd7fd1d68523f>Networking Configuration Options</a></li><ul></ul></ul><li>2.3.4: <a href=#pg-b9307d8c7842213d531a1887a7cff498>Add a Node Controller</a></li><ul></ul><li>2.3.5: <a href=#pg-b94a8f5398dab9391684bbba3babbcc9>Migrate Instances Between Node Controllers</a></li><ul></ul><li>2.3.6: <a href=#pg-305df335c1e1184ccbecdecf3dbaed8c>Remove a Node Controller</a></li><ul></ul><li>2.3.7: <a href=#pg-cec332a68c9602c3dd63331552c1a240>Restart Eucalyptus</a></li><ul><li>2.3.7.1: <a href=#pg-e02fe48225ce8b52cecd81c56c1b7c75>Shut Down All Instances</a></li><ul></ul><li>2.3.7.2: <a href=#pg-ed8972bfa7c21e81d9c319bd1b821695>Restart the CLC</a></li><ul></ul><li>2.3.7.3: <a href=#pg-3bde7106c2cd8834340b697a46b497af>Restart Walrus</a></li><ul></ul><li>2.3.7.4: <a href=#pg-1e4cb3fd184cc4c16f0c3297b02062dc>Restart the CC</a></li><ul></ul><li>2.3.7.5: <a href=#pg-845252ede8416a07631956756ce7ee36>Restart the SC</a></li><ul></ul><li>2.3.7.6: <a href=#pg-4bc52c55980cc5901a1c043b23a6bce8>Restart an NC</a></li><ul></ul></ul><li>2.3.8: <a href=#pg-69c1fe179039b186dcb51d9c2c1fd5af>Shut Down Eucalyptus</a></li><ul><li>2.3.8.1: <a href=#pg-fdf4afeb6709fa4aa52a8adc853fd267>Shut Down All Instances</a></li><ul></ul><li>2.3.8.2: <a href=#pg-2baf2c0364f55c61223c36f37adb156b>Shut Down the NCs</a></li><ul></ul><li>2.3.8.3: <a href=#pg-d7a70b66de8a1142c36f1af178ee2f2e>Shut Down the CCs</a></li><ul></ul><li>2.3.8.4: <a href=#pg-514810555162e04167ff04de95c11329>Shut Down the SCs</a></li><ul></ul><li>2.3.8.5: <a href=#pg-4eeca744ed3e81940980ca7850c932ed>Shut Down Walrus</a></li><ul></ul><li>2.3.8.6: <a href=#pg-f6f892cd051d9b9c7572679c49841736>Shut Down the CLC</a></li><ul></ul></ul><li>2.3.9: <a href=#pg-bd7d4a47a2762fa1f7267d2aec9dbbae>Disable CloudWatch</a></li><ul></ul></ul></ul><li>3: <a href=#pg-409e6261b06210f064883bd322fd80a0>Operations</a></li><ul><li>3.1: <a href=#pg-ebfd7f8f734a435867e539f62e247e35>Operations Overview</a></li><ul></ul><li>3.2: <a href=#pg-ba269b0051a8d0bf24b4c651de0407ba>Planning Your Deployment</a></li><ul></ul><li>3.3: <a href=#pg-513c1f5ea9e48bc66b63d63705bd6285>Testing Your Deployment</a></li><ul></ul><li>3.4: <a href=#pg-b4fc1a7b029c7f366c80a05a9415a4e2>Customizing Your Deployment</a></li><ul></ul><li>3.5: <a href=#pg-d3dc2274c8d9ba899d5b287b9e7fecd7>Managing Policies</a></li><ul></ul><li>3.6: <a href=#pg-c402cfde98e55529aa6c3fe474f0e1cf>Networking</a></li><ul></ul><li>3.7: <a href=#pg-94d6b71bfdb57b839443a8eb5fe41b4d>Monitoring</a></li><ul></ul><li>3.8: <a href=#pg-5ba778536cf329f3f22230937a68bfd5>Backup and Recovery</a></li><ul><li>3.8.1: <a href=#pg-52db2925512295cf7d8cba9b1ce0b676>Back Up Eucalyptus Cloud Data</a></li><ul><li>3.8.1.1: <a href=#pg-e5a12f89eb93ddf43353e2b70c052f99>Back Up the Database</a></li><ul></ul></ul><li>3.8.2: <a href=#pg-5cf42cac5b615d53b45cc5386be85dd9>Recover Eucalyptus Cloud Data</a></li><ul><li>3.8.2.1: <a href=#pg-4f71551333a6fc86a65369a23bf0eecc>Restore the Database</a></li><ul></ul></ul></ul><li>3.9: <a href=#pg-773e3fce9d093e7f7f47622dd59594b2>Troubleshooting</a></li><ul><li>3.9.1: <a href=#pg-449c7065f0f6ff554817ce04a8b4f4fc>Eucalyptus Log Files</a></li><ul></ul><li>3.9.2: <a href=#pg-186617b25ccba629a34b947a31509cf8>Network Information</a></li><ul></ul><li>3.9.3: <a href=#pg-6ff55e132456066cd91070cc57fe4e20>Common Problems</a></li><ul><li>3.9.3.1: <a href=#pg-db12c95988678b82de1626a327e04931>Problem: can't communicate with instance</a></li><ul></ul><li>3.9.3.2: <a href=#pg-e45f12c11a3ecedb728511fcf82a4bcc>Problem: install-time checks</a></li><ul></ul><li>3.9.3.3: <a href=#pg-8d009201f7ce8c96ae19456ce0b09336>Problem: instance runs but fails</a></li><ul></ul><li>3.9.3.4: <a href=#pg-c8e2c9f569c1bb7a549a1dffc10c38cf>Problem: snapshot creation failed</a></li><ul></ul><li>3.9.3.5: <a href=#pg-eb35ffdc7c3611be1e9b4bbfc74c51e9>Problem: volume creation failed</a></li><ul></ul></ul><li>3.9.4: <a href=#pg-4e75713b798e9f1356b1c9622e50f794>Component Workarounds</a></li><ul><li>3.9.4.1: <a href=#pg-6c93c08954ec6e4ca0b7c95fb598f8a4>Access and Identities</a></li><ul></ul><li>3.9.4.2: <a href=#pg-dfdf1ab52db293741aa0539b53c504a7>Elastic Load Balancing</a></li><ul></ul><li>3.9.4.3: <a href=#pg-f1e33740e1d4467eebdfe02297aef981>Imaging Worker</a></li><ul></ul><li>3.9.4.4: <a href=#pg-58919d9aac2f9e11e6ba972627dd4bbd>Instances</a></li><ul></ul><li>3.9.4.5: <a href=#pg-d6cbcd9901b5e3c3cb26119429a1da9a>Walrus and Storage</a></li><ul></ul></ul></ul></ul><li>4: <a href=#pg-c2b7309755f32db77e33eb61e57d3ece>Manage Resources</a></li><ul><li>4.1: <a href=#pg-edf86d14926ae3a2bbefffedef75cbeb>Manage Auto Scaling Resources</a></li><ul></ul><li>4.2: <a href=#pg-f4988213f26f030d1e85ce5aeddaabce>Manage CloudWatch Resources</a></li><ul></ul><li>4.3: <a href=#pg-2ce7519662bd80408299a03a60cb02c5>Manage Compute Resources</a></li><ul></ul><li>4.4: <a href=#pg-064b0a1d8dd0ee794906de718d301ad2>Manage ELB Resources</a></li><ul></ul><li>4.5: <a href=#pg-942fda2d9d757d8ea3d1be5c0b1d3f7d>Manage IAM Resources</a></li><ul></ul><li>4.6: <a href=#pg-6f77576acb8c9ef68ed227f6a296c19a>Manage Walrus Resources</a></li><ul></ul></ul><li>5: <a href=#pg-320258f138ecdf359054b41c11eb2d1f>Manage Regions</a></li><ul><li>5.1: <a href=#pg-db615c32de89d91a77013d625ff2e499>Regions Overview</a></li><ul></ul><li>5.2: <a href=#pg-fedae7a6c85d933e61e99e237cd57022>Region Configuration File Format</a></li><ul></ul><li>5.3: <a href=#pg-a462f267acaac5c4b8976eeaae34fe55>Examples</a></li><ul></ul><li>5.4: <a href=#pg-740779bdf59dfee316438e0ca35651ca>Federation Differences Between AWS and Eucalyptus</a></li><ul></ul><li>5.5: <a href=#pg-8e39bf241d6fac54907f76a6c54f4c6a>Troubleshooting</a></li><ul></ul></ul><li>6: <a href=#pg-278f037a8bd490532a48f4f1a61bd8e5>Manage Security</a></li><ul><li>6.1: <a href=#pg-5b7d7dee815ee6bcca58655f04835d1c>Security Overview</a></li><ul></ul><li>6.2: <a href=#pg-697bda1d9d1dd21fb81f0e1acb65c52d>Best Practices</a></li><ul><li>6.2.1: <a href=#pg-83e928201de7403ef1103d92ab7fea90>Authentication and Access Control Best Practices</a></li><ul></ul><li>6.2.2: <a href=#pg-ba213df0e04164ac639d1838a5962490>Hosts</a></li><ul></ul><li>6.2.3: <a href=#pg-5676afb7c0aa1c817051295ff82d245b>Images and Instances</a></li><ul></ul><li>6.2.4: <a href=#pg-116e73440d426e3c5ea9bef31359e1b5>Management Console</a></li><ul></ul><li>6.2.5: <a href=#pg-8bf0377070c3313dea6e1ff81ee341ef>Message Security</a></li><ul></ul><li>6.2.6: <a href=#pg-c47d035995b8048e6a740e8c3ee23f23>Networking Modes</a></li><ul></ul></ul><li>6.3: <a href=#pg-13246c7b0d9bef36481bdf14a4cd5846>Security Tasks</a></li><ul><li>6.3.1: <a href=#pg-226e0bfa8b3c0ed408ce08527d014c08>Configure SSL</a></li><ul><li>6.3.1.1: <a href=#pg-dddbacba6d71acd887c93037013a80f0>Configure and Enable SSL for the Management Console</a></li><ul></ul><li>6.3.1.2: <a href=#pg-57fbe3724e7cedcae9c871e49b0c4ad9>Configure and Enable SSL for the UFS</a></li><ul></ul></ul><li>6.3.2: <a href=#pg-f830b9392693b0e025f4e6bd3504f145>Change Multicast Address</a></li><ul></ul><li>6.3.3: <a href=#pg-28a7fb3671e5a330f487e45ac93c2298>Configure Replay Protection</a></li><ul></ul><li>6.3.4: <a href=#pg-5e82611da967775627cb729da5a91d5f>Configure Session Timeouts</a></li><ul></ul><li>6.3.5: <a href=#pg-1ba059d499956d167936d9424839cde6>Configure STS Actions</a></li><ul></ul><li>6.3.6: <a href=#pg-6341f918a06a1cdf6c45dcb3a1658ec6>Configure the Firewall</a></li><ul></ul><li>6.3.7: <a href=#pg-1f9a21e581772e0f82f0ef2c19c6a415>Reserve Ports</a></li><ul></ul><li>6.3.8: <a href=#pg-5eed8aeffe499879dcbee977c2a48e2b>Synchronize Components</a></li><ul></ul></ul></ul><li>7: <a href=#pg-25d5c1581cfff916bab451388a3fd597>Eucalyptus Commands</a></li><ul><li>7.1: <a href=#pg-6969b7b3f9e92cd651d22c179842083b>Eucalyptus Administration Commands</a></li><ul><li>7.1.1: <a href=#pg-a2d37d4166ce932546080639f12d8306>euctl</a></li><ul></ul><li>7.1.2: <a href=#pg-8cf7f7238ebe61a58f5ac8ed855fb652>euserv-deregister-service</a></li><ul></ul><li>7.1.3: <a href=#pg-a5bfbddcc33a3bc8eaefea7da24ef443>euserv-describe-events</a></li><ul></ul><li>7.1.4: <a href=#pg-c70f153ba84a6618f2f703140174aadd>euserv-describe-node-controllers</a></li><ul></ul><li>7.1.5: <a href=#pg-e9a48048918ffaf831fb098b1d60207c>euserv-describe-service-types</a></li><ul></ul><li>7.1.6: <a href=#pg-d778cb3b0aaf9315d3e4d21e5a17faf5>euserv-describe-services</a></li><ul></ul><li>7.1.7: <a href=#pg-f36f17e872bf9ed38edd86c023d9cbe8>euserv-migrate-instances</a></li><ul></ul><li>7.1.8: <a href=#pg-5337787a5abaab70a9ea99454b1aa3eb>euserv-modify-service</a></li><ul></ul><li>7.1.9: <a href=#pg-c5b48c310af33cd72b92785cce136c58>euserv-register-service</a></li><ul></ul></ul><li>7.2: <a href=#pg-5c036c1422f881139c085dfb36899de3>Eucalyptus Configuration Variables</a></li><ul></ul></ul><li>8: <a href=#pg-477d92ba2e18c93ed66a01a0a25b975d>Advanced Storage Configuration</a></li><ul><li>8.1: <a href=#pg-295d8e8f523b64cb65b220c89c352b76>OSG Advanced Configuration</a></li><ul></ul></ul></ul><div class=content><h1 id=administration-guide>Administration Guide</h1><p>This section contains concepts and tasks to help you manage your Eucalyptus cloud.</p></div></div><div class=td-content><h1 id=pg-074ed240259ce2673819b6d36b698b33>1 - Management Overview</h1><h1 id=management-overview>Management Overview</h1><p>The section shows you how to access Eucalyptus with a web-based console and with command line tools. This section also describes how to perform common management tasks. This document is intended to be a reference. You do not need to read it in order, unless you are following the directions for a particular task.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-08cc7e8e4f67103184d84c0c0eae071f>1.1 - Overview of Eucalyptus</h1><p>Eucalyptus is a Linux-based software architecture that implements scalable, efficiency-enhancing private and hybrid clouds within an enterprise’s existing IT infrastructure. Because Eucalyptus provides Infrastructure as a Service (IaaS), you can provision your own resources (hardware, storage, and network) through Eucalyptus on an as-needed basis.</p><p>A Eucalyptus cloud is deployed across your enterprise&rsquo;s on-premise data center. As a result, your organization has a full control of the cloud infrastructure. You can implement and enforce various level of security. Sensitive data managed by the cloud does not have to leave your enterprise boundaries, keeping data completely protected from external access by your enterprise firewall.</p><p>Eucalyptus was designed from the ground up to be easy to install and non-intrusive. The software framework is modular, with industry-standard, language-agnostic communication. Eucalyptus is also unique in that it provides a virtual network overlay that isolates network traffic of different users as well as allows two or more clusters to appear to belong to the same Local Area Network (LAN).</p><p>Eucalyptus also is compatible with Amazon’s EC2, S3, and IAM services. This offers you hybrid cloud capability.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-27f8046ed1bbae7b0d4a03fc2af70fcd>1.2 - Command Line Interface</h1><p>Eucalyptus supports two command line interfaces (CLIs): the administration CLI and the user CLI.The administration CLI is installed when you install Eucalyptus server-side components. The administration CLI is for maintaining and modifying Eucalyptus.</p><p>The other user CLI, called Euca2ools, can be downloaded and installed on clients. Euca2ools is a set of commands for end users and can be used with both Eucalyptus and Amazon Web Services (AWS).</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7c57425594226a312363f5d8cfd308cc>2 - Manage Your Cloud</h1><h1 id=manage-your-cloud>Manage Your Cloud</h1><p>After you install and initially configure Eucalyptus, there are some common administration tasks you can perform. This section describes these tasks and associated concepts.</p></div><div class=td-content><h1 id=pg-b3a46ec9125656b706d97df986bc7a8e>2.1 - Cloud Overview</h1><p>This topic presents an overview of the components in Eucalyptus. Eucalyptus is comprised of several components: Cloud Controller, Walrus, Cluster Controller, Storage Controller, and Node Controller. Each component is a stand-alone web service. This architecture allows Eucalyptus both to expose each web service as a well-defined, language-agnostic API, and to support existing web service standards for secure communication between its components.</p><h2 id=cloud-controller>Cloud Controller</h2><p>The Cloud Controller (CLC) is the entry-point into the cloud for administrators, developers, project managers, and end-users. The CLC queries other components for information about resources, makes high-level scheduling decisions, and makes requests to the Cluster Controllers (CCs). As the interface to the management platform, the CLC is responsible for exposing and managing the underlying virtualized resources (servers, network, and storage). You can access the CLC through command line tools that are compatible with Amazon’s Elastic Compute Cloud (EC2).</p><h2 id=walrus>Walrus</h2><p>Walrus allows users to store persistent data, organized as buckets and objects. You can use Walrus to create, delete, and list buckets, or to put, get, and delete objects, or to set access control policies. Walrus is interface compatible with Amazon’s Simple Storage Service (S3). It provides a mechanism for storing and accessing virtual machine images and user data. Walrus can be accessed by end-users, whether the user is running a client from outside the cloud or from a virtual machine instance running inside the cloud.</p><h2 id=cluster-controller>Cluster Controller</h2><p>The Cluster Controller (CC) generally executes on a machine that has network connectivity to both the machines running the Node Controller (NC) and to the machine running the CLC. CCs gather information about a set of NCs and schedules virtual machine (VM) execution on specific NCs. The CC also manages the virtual machine networks. All NCs associated with a single CC must be in the same subnet.</p><h2 id=storage-controller>Storage Controller</h2><p>The Storage Controller (SC) provides functionality similar to the Amazon Elastic Block Store (Amazon EBS). Elastic block storage exports storage volumes that can be attached by a VM and mounted or accessed as a raw block device. EBS volumes persist past VM termination and are commonly used to store persistent data. An EBS volume cannot be shared between VMs and can only be accessed within the same availability zone in which the VM is running. Users can create snapshots from EBS volumes. Snapshots may be stored in Walrus and made available across availability zones.</p><h2 id=node-controller>Node Controller</h2><p>The Node Controller (NC) executes on any machine that hosts VM instances. The NC controls VM activities, including the execution, inspection, and termination of VM instances. It also fetches and maintains a local cache of instance images, and it queries and controls the system software (host OS and the hypervisor) in response to queries and control requests from the CC. The NC is also responsible for the management of the virtual network endpoint.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d73ed3e9be6276adf1279150e887ad16>2.2 - Cloud Best Practices</h1><h1 id=cloud-best-practices>Cloud Best Practices</h1><p>This section details Eucalyptus best practices for your private cloud.</p></div><div class=td-content><h1 id=pg-0c436b3bf6b70c20c0ce3404204c17f4>2.2.1 - Synchronize Clocks</h1><p>Eucalyptus checks message timestamps across components in the cloud infrastructure. This assures command integrity and provides better security.Eucalyptus components receive and exchange messages using either Query or SOAP interfaces (or both). Messages received over these interfaces are required to have some form of a time stamp (as defined by AWS specification) to prevent message replay attacks. Because Eucalyptus enforces strict policies when checking timestamps in the received messages, for the correct functioning of the cloud infrastructure, it is crucial to have clocks constantly synchronized (for example, with ntpd) on all machines hosting Eucalyptus components. To prevent user command failures, it is also important to have clocks synchronized on the client machines.</p><p>Following the AWS specification, all Query interface requests containing the Timestamp element are rejected as expired after 15 minutes of the timestamp. Requests containing the Expires element expire at the time specified by the element. SOAP interface requests using WS-Security expire as specified by the WS-Security Timestamp element.</p><p>When checking the timestamps for expiration, Eucalyptus allows up to 20 seconds of clock drift between the machines. This is a default setting. You can change this value for the CLC at runtime by setting the <code>bootstrap.webservices.clock_skew_sec</code> property as follows:</p><pre><code>euctl bootstrap.webservices.clock_skew_sec=&lt;new_value_in_seconds&gt;
</code></pre><p>For additional protection from the message replay attacks, the CLC implements a replay detection algorithm and rejects messages with the same signatures received within 15 minutes. Replay detection parameters can be tuned as described in <a href=https://www.eucastack.io/docs/admin_guide/security_section/security_tasks/security_task_replays/>Configure Replay Protection</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-cc2d80c5dff82bc6fab5e1644ee01aca>2.2.2 - Configure SSL</h1><p>In order to connect to Eucalyptus using SSL/TLS, you must have a valid certificate for the Cloud Controller (CLC)</p><p>If you have more than one host (other than node controllers), note the following:</p><ul><li>The keystore must be updated on each host running the eucalyptus-cloud service</li><li>The [key_alias] must be the same on each host</li><li>Use a wildcard certificate (i.e. *.&lt;system.dns.dnsdomain>), since UFS is responsible for all service API endpoints</li></ul><h2 id=create-a-keystore>Create a keystore</h2><p>Eucalyptus uses a PKCS12-format keystore. If you are using a certificate signed by a trusted root CA, use the following command to convert your trusted certificate and key into an appropriate format:</p><pre><code>openssl pkcs12 -export -in [YOURCERT.crt] -inkey [YOURKEY.key] \
  -out tmp.p12 -name [key_alias]
</code></pre><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>The above command will request an export password, which is used in the following steps.</div><p>Save a backup of the Eucalyptus keystore, at <em>/var/lib/eucalyptus/keys/euca.p12</em> , and then import your keystore into the Eucalyptus keystore as follows:</p><pre><code>keytool -importkeystore \
  -srckeystore tmp.p12 -srcstoretype pkcs12 -srcstorepass [export_password] \
  -destkeystore /var/lib/eucalyptus/keys/euca.p12 -deststoretype pkcs12 \
  -deststorepass eucalyptus -alias [key_alias] \
  -srckeypass [export_password]
</code></pre><h2 id=enable-the-cloud-controller-to-use-this-keystore>Enable the Cloud Controller to use this keystore</h2><p>Run the following commands on the Cloud Controller (CLC):</p><pre><code>euctl bootstrap.webservices.ssl.server_alias=[key_alias]
</code></pre><h2 id=optional-redirect-requests-to-use-port-443>Optional: Redirect Requests to use Port 443</h2><p>To allow user facing services requests on port 443 instead of the default 8773, run the following commands on the CLC:</p><pre><code>euctl bootstrap.webservices.port=443
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f68cd1ff367b861eaae9def533f65647>2.2.3 - Storage Volumes</h1><p>Eucalyptus manages storage volumes for your private cloud. Volume management strategies are application specific, but this topic includes some general guidelines.When setting up your Storage Controller, consider whether performance (bandwidth and latency of read/write operations) or availability is more important for your application. For example, using several smaller volumes will allow snapshots to be taken on a rolling basis, decreasing each snapshot creation time and potentially making restore operations faster if the restore can be isolated to a single volume. However, a single larger volume allows for faster read/write operations from the VM to the storage volume.</p><p>An appropriate network configuration is an important part of optimizing the performance of your storage volumes. For best performance, each Node Controller should be connected to a distinct storage network that enables the NC to communicate with the SC or Ceph, without interfering with normal NC/VM-instance network traffic.</p><p>Eucalyptus includes configurable limits on the size of a single volume, as well as the aggregate size of all volumes on an SC. The SC can push snapshots from Ceph, where the volumes reside, to object storage, where the snapshots become available across multiple clusters. Smaller volumes will be much faster to snapshot and transfer, whereas large volumes will take longer. However, if many concurrent snapshot requests are sent to the SC, operations may take longer to complete.</p><p>EBS volumes are created from snapshots on the SC or Ceph, after the snapshot has been downloaded from object storage to the device. Creating an EBS volume from a snapshot on the same cluster as the source volume of the snapshot will reduce delays caused by having to transfer snapshots from object storage.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6099fc0dd7ed56fbedde6ac653013f29>2.3 - Cloud Tasks</h1><h1 id=cloud-tasks>Cloud Tasks</h1><p>This section contains a listing of your Eucalyptus cloud-related tasks.</p></div><div class=td-content><h1 id=pg-25c5c10adb123e14983d2795cb6da1e4>2.3.1 - Inspect System Health</h1><p>Eucalyptus provides access to the current view of service state and the ability to manipulate the state. You can inspect the service state to either ensure system health or to identify faulty services. You can modify a service state to maintain activities and apply external service placement policies.</p><h2 id=view-service-state>View Service State</h2><p>Use the <code>euserv-describe-services</code> command to view the service state. The output indicates:</p><ul><li>Component type of the service</li><li>Partition in which the service is registered</li><li>Unique name of the service</li><li>Current view of service state</li><li>Last reported epoch (this can be safely ignored)</li><li>Service URI</li><li>Fully qualified name of the service (This is needed for manipulating services that did not get unique names during registration. For example: internal services like DNS)
The default output includes the services that are registered during configuration, as well as information about the DNS service, if present. You can obtain additional service state information, such as internal services, by providing the <code>-a</code> flag.</li></ul><p>You can also make requests to retrieve service information that is filtered by either:</p><ul><li>current state (for example, )</li><li>host where service is registered</li><li>partition where service is registered</li><li>type of service (for example, CC or Walrus)
When you investigate service failures, you can specify <code>-events</code> to return a summary of the last fault. You can retrieve extended information (primarily useful for debugging) by specifying <code>-events -events-verbose</code> .</li></ul><h2 id=heartbeat-service>Heartbeat Service</h2><p><code>http://CLCIPADDRESS:8773/services/Heartbeat</code> provides a list of components and their respective statuses. This allows you to find out if a service is enabled without requiring cloud credentials.</p><h2 id=modify-service-state>Modify Service State</h2><p>To modify a service:</p><p>Enter the following command on the CLC, Walrus, or SC machines:</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre><p>On the CC, use the following command:</p><pre><code>systemctl stop eucalyptus-cluster.service
</code></pre><p>If you want to shut down the SC for maintenance. The SC is <code>SC00</code> is <code>ENABLED</code> and needs to be <code>DISABLED</code> for maintenance.</p><p>To stop <code>SC00</code> first verify that no volumes or snapshots are being created and that no volumes are being attached or detached, and then enter the following command on SC00:</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre><p>To check status of services, you would enter:</p><pre><code>euserv-describe-services
</code></pre><p>When maintenance is complete, you can start the eucalyptus-cloud process on <code>SC00</code> , which will enter the <code>DISABLED</code> state by default.</p><pre><code>systemctl start eucalyptus-cloud.service
</code></pre><p>Monitor the state of services using <code>euserv-describe-services</code> until <code>SC00</code> is <code>ENABLED</code> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-767e10bba226dfa998d960b8f8db15a1>2.3.2 - View User Resources</h1><p>To see resource use by your cloud users, Eucalyptus provides the following commands with the flag.</p><ul><li>: Returns information about security groups in your account, including output type identifier, security group ID, security group name, security group description, output type identifier, account ID of the group owner, name of group granting permission, type of rule, protocol to allow, start of port range, end of port range, source (for ingress rules) or destination (for egress rules), and any tags assigned to the security group.</li><li>: Returns information about your instances, including output type identifier, reservation ID, name of each security group the instance is in, output type identifier, instance ID for each running instance, EMI ID of the image on which the instance is based, public DNS name associated with the instance (for instances in the running state), private DNS name associated with the instance (for instances in running state), instance state, key name, launch index, instance type, launch time, availability zone, kernel ID, ramdisk ID, monitoring state, public IP address, private IP address, type of root device (ebs or instance-store), placement group the cluster instance is in, virtualization type (paravirtual or hvm), any tags assigned to the instance, hypervisor type, block device identifier for each EBS volume the instance is using, along with the device name, the volume ID, and the timestamp.</li><li>: Returns information about key pairs available to you, including keypair identifier, keypair name, and private key fingerprint.</li><li>: Returns information about EBS snapshots available to you, including snapshot identifier, ID of the snapshot, ID of the volume, snapshot state (pending, completed, error), timestamp when snapshot initiated, percentage of completion, ID of the owner, volume sized, description, and any tags assigned to the snapshot.</li><li>: Describes your EBS volumes, including volume identifier, volume ID, size of the volume in GiBs, snapshot from which the volume was created, availability zone, volume state (creating, available, in-use, deleting, deleted, error), timestamp of the volume creation, and any tags assigned to the volume.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-40eae85392833eb096392d5106a8dc59>2.3.3 - Change Network Configuration</h1><h1 id=change-network-configuration>Change Network Configuration</h1><p>You might want to change the original network configuration of your cloud. To change your network configuration, perform the tasks listed in this topic.Log in to the CLC and open the <em>/etc/eucalyptus/eucalyptus.conf</em> file. Navigate to the Networking Configuration section and make your edits. Save the file. Restart the Cluster Controller.</p><pre><code>systemctl restart eucalyptus-cluster.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-b9e646cefa91214c3c1dd7fd1d68523f>2.3.3.1 - Networking Configuration Options</h1><p>All network-related options specified in /etc/eucalyptus/eucalyptus.conf use the prefix VNET_. The most commonly used VNET options are described in the following table.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>If you change the value of in the file, you must restart the Cluster Controller.</div><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Component</th></tr></thead><tbody><tr><td style=text-align:left>VNET_BRIDGE</td><td style=text-align:left>This is the name of the bridge interface to which instances&rsquo; network interfaces should attach. A physical interface that can reach the CC must be attached to this bridge. Common setting for KVM is br0.</td><td style=text-align:left>Node Controller</td></tr><tr><td style=text-align:left>VNET_DHCPDAEMON</td><td style=text-align:left>The ISC DHCP executable to use. This is set to a distro-dependent value by packaging. The internal default is /usr/sbin/dhcpd3.</td><td style=text-align:left>Node Controller</td></tr><tr><td style=text-align:left>VNET_MODE</td><td style=text-align:left>The networking mode in which to run. The same mode must be specified on all CCs and NCs in your cloud. Valid values: EDGE</td><td style=text-align:left>All CCs and NCs</td></tr><tr><td style=text-align:left>VNET_PRIVINTERFACE</td><td style=text-align:left>The name of the network interface that is on the same network as the NCs. Default: eth0</td><td style=text-align:left>Node Controller</td></tr><tr><td style=text-align:left>VNET_PUBINTERFACE</td><td style=text-align:left>This is the name of the network interface that is connected to the same network as the CC. Depending on the hypervisor&rsquo;s configuration this may be a bridge or a physical interface that is attached to the bridge. Default: eth0</td><td style=text-align:left>Node Controller</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-b9307d8c7842213d531a1887a7cff498>2.3.4 - Add a Node Controller</h1><p>If you want to increase your system’s capacity, you’ll want to add more Node Controllers (NCs).To add an NC, perform the following tasks:</p><p>Log in to the CLC and enter the following command:</p><pre><code>clusteradmin-register-nodes node0_IP_address ... [nodeN_IP_address]
</code></pre><p>When prompted, enter the password to log into each node. Eucalyptus requires this password to propagate the cryptographic keys.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b94a8f5398dab9391684bbba3babbcc9>2.3.5 - Migrate Instances Between Node Controllers</h1><p>In order to ensure optimal system performance, or to perform system maintenance, it is sometimes necessary to move running instances between Node Controllers (NCs). You can migrate instances individually, or migrate all instances from a given NC.<div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>For migrations to succeed, you must have set to the same value in the file on each NC.</div>To migrate a single instance to another NC, enter the following command:</p><pre><code>euserv-migrate-instances -i INSTANCE_ID
</code></pre><p>You can also optionally specify <code>--include-dest HOST_NC_IP</code> or <code>--exclude-dest HOST_NC_IP</code> , to ensure that the instance is migrated to one of the specified NCs, or to avoid migrating the instance to any of the specified NCs. These flags may be used more than once to specify multiple NCs.</p><p>To migrate all instances away from an NC, enter the following command:</p><pre><code>euserv-migrate-instances --source HOST_NC_IP
</code></pre><p>You can also optionally specify <code>euserv-modify-service -s stop HOST_NC_IP</code> , to stop the specified NC and ensure that no new instances are started on that NC while the migration occurs. This allows you to safely remove the NC without interrupting running instances. The NC will remain in the DISABLED state until it is explicitly enabled using <code>euserv-modify-service -s start HOST_NC_IP</code> .</p><p>In some cases, timeouts may cause a migration to initially fail. Run the command again to complete the migration.</p><p>If the migration fails, check the <em>nc.log</em> file on the source and destination NCs. If you see an error similar to:</p><pre><code>libvirt: Cannot get interface MTU on 'br0': No such device (code=38)
</code></pre><p>&mldr; then ensure the NCs have the same interface and bridge device names, as described in <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/installing_dependencies/configuring_bridge/></a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-305df335c1e1184ccbecdecf3dbaed8c>2.3.6 - Remove a Node Controller</h1><p>Describes how to delete NCs in your system.If you want to decrease your system’s capacity, you’ll need to decrease NC servers. To delete an NC, perform the following tasks.</p><p>Log in to the CC and enter the following command:</p><pre><code>clusteradmin-deregister-nodes node0_IP_address ... [nodeN_IP_address]
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-cec332a68c9602c3dd63331552c1a240>2.3.7 - Restart Eucalyptus</h1><h1 id=restart-eucalyptus>Restart Eucalyptus</h1><p>Describes the recommended processes to restart Eucalyptus, including terminating instances and restarting Eucalyptus components.You must restart Eucalyptus whenever you make a physical change (e.g., switch out routers), or edit the eucalyptus.conf file. To restart Eucalyptus, perform the following tasks in the order presented.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>Before you restart Eucalyptus, we recommend that you notify all users that you are terminating all instances.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-e02fe48225ce8b52cecd81c56c1b7c75>2.3.7.1 - Shut Down All Instances</h1><p>To terminate all instances on all NCs perform the steps listed in this topic. To terminate all instances on all NCs:</p><p>Enter the following command:</p><pre><code>euca-terminate-instances &lt;instance_id&gt;
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-ed8972bfa7c21e81d9c319bd1b821695>2.3.7.2 - Restart the CLC</h1><p>Log in to the CLC and enter the following command:</p><pre><code>systemctl restart eucalyptus-cloud.service
</code></pre><p>All Eucalyptus components on this server will restart.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-3bde7106c2cd8834340b697a46b497af>2.3.7.3 - Restart Walrus</h1><p>Log in to Walrus and enter the following command:</p><pre><code>systemctl restart eucalyptus-cloud.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-1e4cb3fd184cc4c16f0c3297b02062dc>2.3.7.4 - Restart the CC</h1><p>Log in to the CC and enter the following command:</p><pre><code>systemctl restart eucalyptus-cluster.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-845252ede8416a07631956756ce7ee36>2.3.7.5 - Restart the SC</h1><p>Log in to the SC and enter the following command:</p><pre><code>systemctl restart eucalyptus-cloud.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-4bc52c55980cc5901a1c043b23a6bce8>2.3.7.6 - Restart an NC</h1><p>To restart an NC perform the steps listed in this topic.Log in to the NC and enter the following command:</p><pre><code>systemctl restart eucalyptus-node.service
</code></pre><p>Repeat for each NC. Verify that the following is even needed. If so, replicate for other NC-tasks. You can automate the restart command for all of your NCs. Store a list of your NCs in a file called <em>nc-hosts</em> that looks like:</p><pre><code>nc-host-00
nc-host-01
...
nc-host-nn
</code></pre><p>To restart all of your NCs, run the following command:</p><pre><code>cat nc-hosts | xargs -i ssh root@{} systemctl restart eucalyptus-node.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-69c1fe179039b186dcb51d9c2c1fd5af>2.3.8 - Shut Down Eucalyptus</h1><h1 id=shut-down-eucalyptus>Shut Down Eucalyptus</h1><p>Describes the recommended processes to shut down Eucalyptus.There may be times when you need to shut down Eucalyptus. This might be because of a physical failure, topological change, backing up, or making an upgrade. We recommend that you shut down Eucalyptus components in the reverse order of how you started them. To stop the system, shut down the components in the order listed.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>Before you shut Eucalyptus down, we recommend that you notify all users that you are terminating all instances.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-fdf4afeb6709fa4aa52a8adc853fd267>2.3.8.1 - Shut Down All Instances</h1><p>To terminate all instances on all NCs perform the steps listed in this topic.To terminate all instances on all NCs:</p><p>Enter the following command:</p><pre><code>euca-terminate-instances &lt;instance_id&gt;
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-2baf2c0364f55c61223c36f37adb156b>2.3.8.2 - Shut Down the NCs</h1><p>To shut down the NCs perform the steps listed in this topic.To shut down the NCs:</p><p>Log in as root to a machine hosting an NC. Enter the following command:</p><pre><code>systemctl stop eucalyptus-node.service
</code></pre><p>Repeat for each machine hosting an NC.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d7a70b66de8a1142c36f1af178ee2f2e>2.3.8.3 - Shut Down the CCs</h1><p>To shut down the CCs:</p><p>Log in as root to a machine hosting a CC. Enter the following command:</p><pre><code>systemctl stop eucalyptus-cluster.service
</code></pre><p>Repeat for each machine hosting a CC.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-514810555162e04167ff04de95c11329>2.3.8.4 - Shut Down the SCs</h1><p>To shut down the SC:</p><p>Log in as root to the physical machine that hosts the SC. Enter the following command:</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre><p>Repeat for any other machine hosting an SC.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4eeca744ed3e81940980ca7850c932ed>2.3.8.5 - Shut Down Walrus</h1><p>To shut down Walrus:</p><p>Log in as root to the physical machine that hosts Walrus. Enter the following command:</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f6f892cd051d9b9c7572679c49841736>2.3.8.6 - Shut Down the CLC</h1><p>To shut down the CLC:</p><p>Log in as root to the physical machine that hosts the CLC. Enter the following command:</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-bd7d4a47a2762fa1f7267d2aec9dbbae>2.3.9 - Disable CloudWatch</h1><p>To disable CloudWatch, run the following command.</p><pre><code>euctl cloudwatch.enable_cloudwatch_service=true
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-409e6261b06210f064883bd322fd80a0>3 - Operations</h1><h1 id=operations>Operations</h1><p>This section contains concepts and tasks associated with operating your Eucalyptus cloud.</p></div><div class=td-content><h1 id=pg-ebfd7f8f734a435867e539f62e247e35>3.1 - Operations Overview</h1><p>This section is for architects and cloud administrators who plan to deploy Eucalyptus in a production environment. It is not intended for end users or proof-of-concept installations.To run Eucalyptus in a production environment, you must be aware of your hardware and network resources. This guide is to help you make decisions about deploying Eucalyptus. It is also meant to help you keep Eucalyptus running smoothly.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ba269b0051a8d0bf24b4c651de0407ba>3.2 - Planning Your Deployment</h1><p>To decide on your deployment&rsquo;s scope, determine the use case for your cloud. For example, will this be a small dev-test environment, or a large and scalable web services environment?To help with scoping your deployment, see <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/planning/>Plan Your Installation</a> in the <a href=https://www.eucastack.io/docs/install_guide/>Installation Guide</a> . There you will find solution examples and physical resource information.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-513c1f5ea9e48bc66b63d63705bd6285>3.3 - Testing Your Deployment</h1><p>This topic details what you should test when you want to make sure your deployment is working. The following suggested test plan contains tasks that ensure DNS, imaging, and storage are working.</p><h2 id=dns>DNS</h2><ul><li>Verify that instances can ping their:</li><li>Verify that instances are pingable on their public DNS names from:</li></ul><h2 id=imaging>Imaging</h2><ul><li>Verify that an EBS-backed image boots successfully</li><li>Verify that you can create an image from a running EBS-backed instance</li><li>Verify that you can install a new Ubuntu image</li><li>Verify that you can deregister an image</li><li>Verify that you can import an instance</li><li>Verify that you can import a volume</li></ul><h2 id=walrus>Walrus</h2><ul><li>Verify that you can make a basic s3cmd request</li><li>Verify that you can successfully perform a multi-part upload (use a 1G+ file)</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b4fc1a7b029c7f366c80a05a9415a4e2>3.4 - Customizing Your Deployment</h1><p>This section describes the most commonly applied post-install customizations and the issues they pose:</p><ul><li>Over-subscription</li><li>Networking changes (EDGE mode)</li><li>CloudWatch tweaks/customizations</li><li>Capacity changes</li></ul><h2 id=over-subscription>Over-subscription</h2><p>Over-subscription refers to the practice of expanding your computer beyond its limits. Over-subscription applies only to node controllers. You may modify disks and cores to allow enough usage buffer for your instance. Navigate to <code>/etc/eucalyptus/</code> and locate the <code>eucalyptus.conf</code> file. Edit the following values to define the appropriate size buffers for your instances: <code>NC_WORK_SIZE</code> Defines the amount of disk space available for instances to be run. Defaults to 1/3 of the currently available disk space on the NC, and NC_CACHE_SIZE defaults to the other 2/3.</p><p><code>NC_CACHE_SIZE</code> Defines how much disk space is needed for images to be cached. <code>MAX_CORES</code> Defines the maximum number of cores that can be provided to VMs on each NC. If it is 0 or not present, then the only limit on the number of instances is the number of cores available on the NC. If it is present, any value greater than 256 is treated as 256. In order for these changes to take effect, you must restart the NC.</p><h2 id=networking-changes-edge-modes>Networking Changes (EDGE modes)</h2><p>You can modify the default by adding network IPs to your cloud. Adding public IPs does not require shutting down the whole system.</p><p>To add network IPs:In EDGE mode, adding or changing the IP involves creating a JSON file and uploading it the Cloud Controller (CLC). See <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/configuring_euca/configure_network_modes/nw_edge/>Configure for Edge Mode</a> for more details. No restart needed, changes apply automatically.</p><h2 id=change-cloudwatch-properties>Change CloudWatch Properties</h2><p>You can change the following CloudWatch properties:</p><table><thead><tr><th style=text-align:left>Property</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>cloud.monitor.default_poll_interval_mins</td><td style=text-align:left>This is how often the CLC sends a request to the CC for sensor data. Default value is 5 minutes. If you set it to 0 = no reporting. The more often you poll, the more hit on system performance.</td></tr><tr><td style=text-align:left>cloud.monitor.history_size</td><td style=text-align:left>This is how many data value samples are sent in each sensor data request. The default value is 5. How many samples per poll interval.</td></tr><tr><td style=text-align:left>cloudwatch.enable_cloudwatch_service</td><td style=text-align:left>Disables CloudWatch when set to false.</td></tr></tbody></table><h2 id=change-capacity>Change Capacity</h2><p>Capacity changes refer to adding another zone or more nodes. To add another zone, <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/install_repos_intro/>install</a> , <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/starting_euca/>start</a> , and <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/register_services/registering_ccs/>register</a> . To add more nodes, see <a href=https://www.eucastack.io/docs/admin_guide/managing_system/system_tasks/add_nodes/>Add a Node Controller</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d3dc2274c8d9ba899d5b287b9e7fecd7>3.5 - Managing Policies</h1><p>This topic details best practices for managing your cloud policies.</p><ul><li>Establish a workflow for account creation, including the initial request for a cloud account and the email containing credentials.</li><li>Limit your use of individual policies. Focus your policies on groups and add individuals to the group.</li><li>Use groups to assign permissions to individual users. Limit the use of policies for individual users.
For more information about policy best practices, see <a href=http://docs.aws.amazon.com/IAM/latest/UserGuide/IAMBestPractices.html>IAM Best Practices</a> .</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-c402cfde98e55529aa6c3fe474f0e1cf>3.6 - Networking</h1><p>This topic addresses networking in the Eucalyptus cloud.</p><h2 id=networking-modes>Networking Modes</h2><p>Eucalyptus offers different modes to provide you with a cloud that will fit in your current network. For information what each networking mode has to offer, see <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/planning/planning_networking_modes/>Plan Networking Modes</a> .</p><h2 id=ec2-classic-networking>EC2-Classic Networking</h2><p>Eucalyptus EDGE networking mode supports EC2-Classic networking. Your instances run in a single, flat network that you share with others. For more information about EC2-Classic networking, see <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-supported-platforms.html#platform-differences>EC2 Supported Platforms</a> .</p><h2 id=ec2-vpc-networking>EC2-VPC Networking</h2><p>Eucalyptus VPCMIDO networking mode resembles the Amazon Virtual Private Cloud (VPC) product wherein the network is fully configurable by users. For more information about EC2-VPC networking, see <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-vpc.html#differences-ec2-classic-vpc>Differences Between Instances in EC2-Classic and EC2-VPC</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-94d6b71bfdb57b839443a8eb5fe41b4d>3.7 - Monitoring</h1><p>This topic includes details about which resources you should monitor.</p><table><thead><tr><th style=text-align:left>Component</th><th style=text-align:left>Running Processes</th></tr></thead><tbody><tr><td style=text-align:left>Cloud Controller (CLC)</td><td style=text-align:left>eucalyptus-cloud, postgres, eucanetd (VPCMIDO mode)</td></tr><tr><td style=text-align:left>User-facing services (UFS)</td><td style=text-align:left>eucalyptus-cloud</td></tr><tr><td style=text-align:left>Walrus</td><td style=text-align:left>eucalyptus-cloud</td></tr><tr><td style=text-align:left>Cluster Controller (CC)</td><td style=text-align:left>eucalyptus-cluster</td></tr><tr><td style=text-align:left>Storage Controller (SC)</td><td style=text-align:left>eucalyptus-sc, tgtd (for DAS and Overlay)</td></tr><tr><td style=text-align:left>Node Controller (NC)</td><td style=text-align:left>eucalyptus-node, httpd, dhcpd, eucanetd (EDGE mode), qemu-kvm / 1 per instance</td></tr><tr><td style=text-align:left>Management Console</td><td style=text-align:left>eucaconsole</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-5ba778536cf329f3f22230937a68bfd5>3.8 - Backup and Recovery</h1><h1 id=backup-and-recovery>Backup and Recovery</h1><p>This section provides details on important files to back up and recover.</p></div><div class=td-content><h1 id=pg-52db2925512295cf7d8cba9b1ce0b676>3.8.1 - Back Up Eucalyptus Cloud Data</h1><h1 id=back-up-cloud-data>Back Up Cloud Data</h1><p>This section explains what you need to back up and protect your cloud data.We recommend that you back up the following data:</p><ul><li>The cloud database: see</li><li>Object storage. For objects in Walrus, the frequency depends on current load. Use your own discretion to determine the backup plan and strategy. You must have Walrus running.</li><li>EBS volumes in each cluster (DAS and Overlay)</li><li>The configuration file for the cloud is stored on the CLC: .</li><li>Any configuration file for the cloud stored on any other host (UFS, CC, etc.): .</li><li>The cloud security credentials on all hosts (you already backed up the CLC keys as part of the database backup). Use the tar command: .</li><li>The CC and NC configuration files, stored on every CC and NC: .</li><li>Any Euca2ools (.ini) configuration files, which reside on any Euca2ools host machine. Files can be found in:</li><li>Management Console config files in should be backed up. Typical files:</li><li>Ensure you have your instances&rsquo; so you can access the instances later.</li><li>and LVM snapshots
Users are responsible for volume backups using EBS snapshots on their defined schedules.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e5a12f89eb93ddf43353e2b70c052f99>3.8.1.1 - Back Up the Database</h1><p>To back up the cloud database follow the steps listed in this topic.Bucket and object metadata are stored in the Eucalyptus cloud database. <strong>To back up the database</strong></p><p>Log in to the CLC. The cloud database is on the CLC. Extract the Eucalyptus PostgreSQL database cluster into a script file.</p><pre><code>pg_dumpall --oids -c -h/var/lib/eucalyptus/db/data -p8777 -U root -f/root/eucalyptus_pg_dumpall-backup.sql
</code></pre><p>Back up the cloud security credentials in the keys directory.</p><pre><code>tar -czvf ~/eucalyptus-keydir.tgz /var/lib/eucalyptus/keys
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-5cf42cac5b615d53b45cc5386be85dd9>3.8.2 - Recover Eucalyptus Cloud Data</h1><h1 id=recover-cloud-data>Recover Cloud Data</h1><p>This topic explains what to include when you recover your cloud.<strong>Recovering Your Cloud Data</strong></p><p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>When you recover your cloud data, you need to stop all services, recover the files, then start all services again.</div>We recommend that you recover the following data:</p><ul><li>The cloud database: see</li><li>Object storage. For objects in Walrus, the frequency depends on current load. Use your own discretion to determine the restore plan and strategy.</li><li>EBS volumes in each cluster (DAS and Overlay)</li><li>The configuration file for the cloud is stored on the CLC: .</li><li>Any configuration file for the cloud stored on any other host (UFS, CC, etc.): .</li><li>The cloud security credentials on all hosts (you already restored the CLC keys as part of the database restore). Use the tar command: .</li><li>The CC and NC configuration files, stored on every CC and NC: .</li><li>Any Euca2ools (.ini) configuration files, which reside on any Euca2ools host machine. Files in these directories:</li><li>Management Console config files you backed up from should be restored. Typical files:</li><li>Ensure you have your instances&rsquo; so you can access the instances.</li><li>and LVM snapshots
Users are responsible for volume restore using EBS snapshots.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-4f71551333a6fc86a65369a23bf0eecc>3.8.2.1 - Restore the Database</h1><p>To restore the cloud database follow the steps listed in this topic.<div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>Sometimes you&rsquo;ll get this message on both startup and shutdown of the database: &mldr; where is actually your current directory, meaning if you run the command from , then the path in the output will be instead of . The message is completely benign and can be ignored.</div><strong>To restore the database</strong></p><p>Stop the CLC service.</p><pre><code>systemctl stop eucalyptus-cloud.service
</code></pre><p>Remove traces of the old database.</p><pre><code>rm -rf /var/lib/eucalyptus/db
</code></pre><p>Restore the cloud security credentials in the keys directory.</p><pre><code>tar -xvf ~/eucalyptus-keydir.tgz -C /
</code></pre><p>Re-initialize the database structure.</p><pre><code>clcadmin-initialize-cloud
</code></pre><p>Start the database manually.</p><pre><code>su eucalyptus -s /bin/bash -c &quot;/usr/bin/pg_ctl start -w \
-s -D/var/lib/eucalyptus/db/data -o '-h0.0.0.0/0 -p8777 -i'&quot;
</code></pre><p>Restore the backup.</p><pre><code>psql -U root -d postgres -p 8777 -h /var/lib/eucalyptus/db/data -f/root/eucalyptus_pg_dumpall-backup.sql
</code></pre><p>Stop the database manually.</p><pre><code>su eucalyptus -s /bin/bash -c &quot;/usr/bin/pg_ctl stop -D/var/lib/eucalyptus/db/data&quot;
</code></pre><p>Start CLC service<div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>If you are upgrading, skip this step (you don&rsquo;t want to start the CLC service now because you haven&rsquo;t restored the rest of the cloud data yet; starting the CLC appears in the installation steps, later).</div></p><pre><code>systemctl start eucalyptus-cloud.service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-773e3fce9d093e7f7f47622dd59594b2>3.9 - Troubleshooting</h1><h1 id=troubleshooting>Troubleshooting</h1><p>This topic details how to find information you need to troubleshoot most problems in your cloud. To troubleshoot Eucalyptus, you must have the following:</p><ul><li>a knowledge about which machines each Eucalyptus component is installed on</li><li>root access to each machine hosting Eucalyptus components</li><li>an understanding of the network mode (EDGE, VPCMIDO)</li><li>an understanding of eucanetd and the configuration connecting the Eucalyptus components</li></ul><p>For most problems, the procedure for tracing problems is the same: start at the bottom to verify the bottom-most component, and then work your way up. If you do this, you can be assured that the base is solid. This applies to virtually all Eucalyptus components and also works for proactive, targeted monitoring.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-449c7065f0f6ff554817ce04a8b4f4fc>3.9.1 - Eucalyptus Log Files</h1><p>Usually when an issue arises in Eucalyptus, you can find information that points to the nature of the problem either in the Eucalyptus log files or in the system log files. This topic details log file message meanings, location, configuration, and fault log information.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-186617b25ccba629a34b947a31509cf8>3.9.2 - Network Information</h1><p>When you have to troubleshoot, it&rsquo;s important to understand the elements of the network on your system.Here are some ideas for finding out information about your network:</p><ul><li>It is also important to understand the elements of the network on your system. For example, you might want to list bridges to see which devices are enslaved by the bridge. To do this, use the command.</li><li>You might also want to list network devices and evaluate existing configurations. To do this, use these commands: , , and .</li><li>You can use to check status, or to force eucanetd to run in the foreground, sending log messages to the terminal.</li><li>You can get further information if you use the commands with the options. For example, returns all instances running by all users on the system. Other describe commands are:</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6ff55e132456066cd91070cc57fe4e20>3.9.3 - Common Problems</h1><h1 id=common-problems>Common Problems</h1><p>This section describes common problems and workarounds.</p></div><div class=td-content><h1 id=pg-db12c95988678b82de1626a327e04931>3.9.3.1 - Problem: can't communicate with instance</h1><p>Use ping from a client (not the CLC). Can you ping it?</p><p>Yes: Check the open ports on security groups and retry connection using SSH or HTTP. Can you connect now? Yes. Okay, then. You&rsquo;re work is done. No: Try the same procedure as if you can&rsquo;t ping it up front. No: Is your cloud running in Edge networking mode?</p><ul><li><p>Yes: Run <code>euca-describe-nodes</code> . Is your instance there?</p></li><li><p>No, it is not in Edge networking mode:</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e45f12c11a3ecedb728511fcf82a4bcc>3.9.3.2 - Problem: install-time checks</h1><p>Eucalyptus offers installation checks for any Eucalyptus component or service (CLC, Walrus, SC, NC, SC, services, and more). When Eucalyptus encounters an error, it presents the problem to the operator. These checks are used for install-time problems. They provide resolutions to some of the fault conditions.</p><p>Each problematic condition contains the following information:</p><table><thead><tr><th style=text-align:left>Heading</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>Condition</td><td style=text-align:left>The fault found by Eucalyptus</td></tr><tr><td style=text-align:left>Cause</td><td style=text-align:left>The cause of the condition</td></tr><tr><td style=text-align:left>Initiator</td><td style=text-align:left>What is at fault</td></tr><tr><td style=text-align:left>Location</td><td style=text-align:left>Where to go to fix the fault</td></tr><tr><td style=text-align:left>Resolution</td><td style=text-align:left>The steps to take to resolve the fault</td></tr></tbody></table><p><img src=https://www.eucastack.io/images/install-check.png alt=image></p><p>For more information about all the faults we support, go to <a href=https://github.com/eucalyptus/eucalyptus/blob/master/util/README.faults>https://github.com/eucalyptus/eucalyptus/tree/master/util/faults/en_US</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-8d009201f7ce8c96ae19456ce0b09336>3.9.3.3 - Problem: instance runs but fails</h1><p>Run <code>euca-describe-nodes</code> to verify if instance is there. Is the instance there?</p><p>Yes: Go to the <a href=https://www.eucastack.io/docs/admin_guide/ops_oview/ops_ts/ts_logs/>NC log</a> for that NC and grep your instance ID. Did you find the instance?</p><ul><li>Yes: Is there an error message?</li></ul><p>No: Go to the <a href=https://www.eucastack.io/docs/admin_guide/ops_oview/ops_ts/ts_logs/>CC log</a> and grep the instance ID. Is it there error message?</p><ul><li><p>Yes: The error message should give you some helpful information.</p></li><li><p>No: grep the instance ID in <a href=https://www.eucastack.io/docs/admin_guide/ops_oview/ops_ts/ts_logs/>cloud-output.log</a> . Is there error message?</p></li></ul><p>No: Log in as admin and run <code>euca-describe-instance</code> . Is the instance there?</p><ul><li>Yes:</li><li>No: Start over and run a new instance, recreate failure, and start these steps over.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-c8e2c9f569c1bb7a549a1dffc10c38cf>3.9.3.4 - Problem: snapshot creation failed</h1><p>On the SC, depending on the backend used for storage:</p><ul><li>For Overlay, use the command to check the disk space in .</li><li>For DAS, use the command to check the disk space in the DAS volumes.</li><li>For any other backend, use its specific commands to check the free space for storage allocated for volumes.
Is there enough space?</li></ul><p>Yes: On the OSG host, depending on the backend used for object storage:</p><ul><li><p>For Walrus, use the command to check the disk space in .</p></li><li><p>For RiakCS or Ceph-RGW, use its specific commands to check the free space for storage allocated for buckets and objects.
Is there enough space? Yes.</p></li><li><p>Use and note the IP addresses for the OSG and SC.</p></li><li><p>SSH to SC and ping the OSG. Are there error messages?</p></li></ul><p>No: Delete volumes or add disk space. No: Delete volumes or add disk space.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-eb35ffdc7c3611be1e9b4bbfc74c51e9>3.9.3.5 - Problem: volume creation failed</h1><p>Symptom: Went from available to fail. This is typically caused by the CLC and the SC.On the SC, use <code>df</code> or <code>lvdisplay</code> to check the disk space. Is there enough space?</p><p>Yes: Check the <a href=https://www.eucastack.io/docs/admin_guide/ops_oview/ops_ts/ts_logs/>SC log</a> and grep the volume ID. Is there error message? Yes. This provides clues to helpful information. No: Check <a href=https://www.eucastack.io/docs/admin_guide/ops_oview/ops_ts/ts_logs/>cloud-output.log</a> for a volume ID error. No: Delete volumes or add disk space.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4e75713b798e9f1356b1c9622e50f794>3.9.4 - Component Workarounds</h1><h1 id=component-workarounds>Component Workarounds</h1><p>This section contains troubleshooting information for Eucalyptus components and services.</p></div><div class=td-content><h1 id=pg-6c93c08954ec6e4ca0b7c95fb598f8a4>3.9.4.1 - Access and Identities</h1><p>This topic contains information about access-related problems and solutions.
Need to verify an existing LIC file.</p><ol><li>Enter the following command: The output from the example above shows the name of the LIC file and status of the synchronization (set to false).</li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-dfdf1ab52db293741aa0539b53c504a7>3.9.4.2 - Elastic Load Balancing</h1><p>This topic explains suggestions for problems you might have with Elastic Load Balancing (ELB).
Can&rsquo;t synchronize with time server
Eucalyptus sets up NTP automatically for any instance that has an internet connection to a public network. If an instance doesn&rsquo;t have such a connection, set the cloud property <code>loadbalancing.loadbalancer_vm_ntp_server</code> to a valid NTP server IP address. For example:</p><pre><code>euctl loadbalancing.loadbalancer_vm_ntp_server=169.254.169.254
PROPERTY	loadbalancing.loadbalancer_vm_ntp_server	169.254.169.254 was {}
</code></pre><p>Need to debug an ELB instance
To debug an ELB instance, set the <code>loadbalancing.loadbalancer_vm_keyname</code> cloud property to the keypair of the instance you want to debug. For example:</p><pre><code># euctl loadbalancing.loadbalancer_vm_keyname=sshlogin
PROPERTY	loadbalancing.loadbalancer_vm_keyname	sshlogin was {}
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f1e33740e1d4467eebdfe02297aef981>3.9.4.3 - Imaging Worker</h1><p>This topic contains troubleshooting tips for the Imaging Worker.Some requests that require the Imaging Worker might remain in pending for a long time. For example: an import task or a paravirtual instance run. If request remains in pending, the Imaging Worker instance might not able to run because of a lack of resources (for example, instance slots or IP addresses).</p><p>You can check for this scenario by listing latest AutoScaling activities:</p><pre><code>euscale-describe-scaling-activities -g asg-euca-internal-imaging-worker-01
</code></pre><p>Check for failures that indicate inadequate resources such as:</p><pre><code>ACTIVITY        1950c4e5-0db9-4b80-ad3b-5c7c59d9c82e    2014-08-12T21:05:32.699Z        asg-euca-internal-imaging-worker-01    Failed   Not enough resources available: addresses; please stop or terminate unwanted instances or release unassociated elastic IPs and try again, or run with private addressing only
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-58919d9aac2f9e11e6ba972627dd4bbd>3.9.4.4 - Instances</h1><p>This topic contains information to help you troubleshoot your instances.
Inaccurate IP addresses display in the output of euca-describe-addresses.
This can occur if you add IPs from the wrong subnet into your public IP pool, do a restart on the CC, swap out the wrong ones for the right ones, and do another restart on the CC. To resolve this issue, run the following commands.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>A restart should only be performed when no instances are running, or when instance service interruption can be tolerated. A restart causes the CC to reset its networking configuration, regardless of whether or not it is in use.</div><pre><code>systemctl stop eucalyptus-cloud.service
systemctl stop eucalyptus-cluster.service
iptables -F
systemctl restart eucalyptus-cluster.service
systemctl start eucalyptus-cloud.service
</code></pre><p>NC does not recalculate disk size correctly
This can occur when trying to add extra disk space for instance ephemeral storage. To resolve this, you need to delete the instance cache and restart the NC.</p><p>For example:</p><pre><code>rm -rf /var/lib/eucalyptus/instances/* 
systemctl restart eucalyptus-node.service               				
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-d6cbcd9901b5e3c3cb26119429a1da9a>3.9.4.5 - Walrus and Storage</h1><p>This topic contains information about Walrus-related problems and solutions.
Walrus decryption failed.
On Ubuntu 10.04 LTS, kernel version 2.6.32-31 includes a bug that prevents Walrus from decrypting images. This can be determined from the following line in cloud-output.log</p><pre><code>javax.crypto.
BadPaddingException: pad block corrupted
</code></pre><p>If you are running this kernel:</p><ol><li>Update to kernel version 2.6.32-33 or higher.</li><li>De-register the failed image ( ).</li><li>Re-register the bundle that you uploaded ( ).</li></ol><p>Walrus physical disk is not large enough.</p><ol><li>Stop the CLC.</li><li>Add a disk.</li><li>Migrate your data.
Make sure you use LVM with your new disk drive(s).</li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-c2b7309755f32db77e33eb61e57d3ece>4 - Manage Resources</h1><h1 id=manage-resources>Manage Resources</h1><p>This section includes tasks to help you manage your users&rsquo; cloud resources.</p></div><div class=td-content><h1 id=pg-edf86d14926ae3a2bbefffedef75cbeb>4.1 - Manage Auto Scaling Resources</h1><p>You can list, delete, update, and suspend your Eucalyptus cloud&rsquo;s Autoscaling resources by passing the option with the keyword with the appropriate command.The followings are some examples you can use to act on your Auto Scaling resources.</p><p>To show all launch configurations in your cloud, run the following command:</p><pre><code>euscale-describe-launch-configs --show-long verbose
</code></pre><p>To show all Auto Scaling instances in your cloud, run the following command:</p><pre><code>euscale-describe-auto-scaling-groups --show-long verbose
</code></pre><p>To show all Auto Scaling instances in your cloud, run the following command:</p><pre><code>euscale-describe-auto-scaling-groups --show-long verbose
</code></pre><p>To delete an Auto Scaling resource in your cloud, first get the ARN of the resource, as in this example:</p><pre><code>$ euscale-describe-launch-configs --show-long verbose
LAUNCH-CONFIG  TestLaunchConfig  emi-06663A57  m1.medium  2013-10-30T22:52:39.392Z  true
arn:aws:autoscaling::961915002812:launchConfiguration:5ac29caf-9aad-4bdb-b228-5f
ce841dc062:launchConfigurationName/TestLaunchConfig
</code></pre><p>Then run the following command with the ARN:</p><pre><code>euscale-delete-launch-config
arn:aws:autoscaling::961915002812:launchConfiguration:5ac29caf-9aad-4bdb-b228-5f
ce841dc062:launchConfigurationName/TestLaunchConfig
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f4988213f26f030d1e85ce5aeddaabce>4.2 - Manage CloudWatch Resources</h1><p>To manage CloudWatch resources on a Eucalyptus cloud, use the option in any command that lists, deletes, modifies, or sets a CloudWatch resource.The following are examples of what you can do with your CloudWatch resources.</p><p>To list all alarms for the cloud, run the following command:</p><pre><code>euwatch-describe-alarms verbose
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-2ce7519662bd80408299a03a60cb02c5>4.3 - Manage Compute Resources</h1><p>To manage compute resources on a Eucalyptus cloud, use the option in any command.The following are some examples you can use to view various compute resources.</p><p>To see all instances running on your cloud, enter the following command:</p><pre><code>euca-describe-instances verbose
</code></pre><p>To see all volumes in your cloud, enter the following command:</p><pre><code>euca-describe-volumes verbose
</code></pre><p>To see all keypairs in your cloud, enter the following command:</p><pre><code>euca-describe-keypairs verbose
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-064b0a1d8dd0ee794906de718d301ad2>4.4 - Manage ELB Resources</h1><p>To list and delete ELB resources on a Eucalyptus cloud, use the option with any command.The following are some examples.</p><p>To list all detailed configuration information for the load balancers in your cloud, run the following command:</p><pre><code>eulb-describe-lbs verbose
</code></pre><p>To list the details of policies for all load balancers in your cloud, run the following command:</p><pre><code>eulb-describe-lb-policies verbose
</code></pre><p>To list meta information for all load balancer policies in your cloud, run the following command:</p><pre><code>eulb-describe-lb-policy-types verbose
</code></pre><p>To delete any load balancer or any load balancer resource on the cloud, instead of using the ELB name, use the DNS name. For example:</p><pre><code>$ eulb-describe-lbs verbose
LOAD_BALANCER	MyLoadBalancer	MyLoadBalancer-961915002812.lb.foobar.eucalyptus-systems.com	2013-10-30T03:02:53.39Z

$ eulb-delete-lb MyLoadBalancer-961915002812.lb.foobar.eucalyptus-systems.com 
$ eulb-describe-lbs verbose 
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-942fda2d9d757d8ea3d1be5c0b1d3f7d>4.5 - Manage IAM Resources</h1><p>To manage Euare (IAM) resources on your Eucalyptus cloud, use the option with any command that describes, adds, deletes, or modifies resources. This option allows you to assume the role of the admin user for a given account. You can also use a policy to control and limit instances to specific availability zones. The following are some examples.</p><p>To list all groups in an account, enter the following command:</p><pre><code>euare-grouplistbypath --as-account &lt;account-name&gt;
</code></pre><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>The <em>as-account</em> option is for the Euare service only. To run commands for an account with any service use the <em>clcadmin-impersonate-user</em> command.</div><p>To list all users in an account, enter the following command:</p><pre><code>euare-userslistbypath --as-account &lt;account-name&gt;
</code></pre><p>To delete the login profile of a user in an account, enter the following command:</p><pre><code>euare-userdelloginprofile --as-account &lt;account-name&gt; -u &lt;user_name&gt;
</code></pre><p>To modify the login profile of a user in an account, enter the following command:</p><pre><code>euare-usermod --as-account &lt;account-name&gt; -u &lt;user_name&gt; -n
&lt;new_user_name&gt;
</code></pre><p>To restrict an image to a specific availability zone, edit and attach this sample policy to a user:</p><pre><code>{
    &quot;Statement&quot;:[
      {
        &quot;Effect&quot;:&quot;Allow&quot;,
        &quot;Action&quot;:&quot;ec2:*&quot;,
         &quot;Resource&quot;:&quot;*&quot;
      },
      {
        &quot;Effect&quot;: &quot;Deny&quot;,
        &quot;Action&quot;: [ &quot;ec2:*&quot; ],
        &quot;Resource&quot;: &quot;arn:aws:ec2:::availabilityzone/PARTI00&quot;,
        &quot;Condition&quot;: {
          &quot;ArnLike&quot;: {
            &quot;ec2:TargetImage&quot;: &quot;arn:aws:ec2:*:*:image/emi-239D37F2&quot;
          }
        }
      }
    ]
  }
</code></pre><p>To restrict a user to actions only within a specific availability zone, edit and attach this sample policy to a user:</p><pre><code>{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [ &quot;ec2:TerminateInstances&quot; ],
      &quot;Resource&quot;: &quot;*&quot;,
      &quot;Condition&quot;: {
        &quot;StringEquals&quot;: {
          &quot;ec2:AvailabilityZone&quot;: &quot;PARTI00&quot;
        }
      }
    }]
  }
</code></pre><p>To deny actions at the account level, edit and attach this example policy to an account:</p><pre><code>{
    &quot;Statement&quot;: [ {
      &quot;Effect&quot;: &quot;Deny&quot;,
      &quot;Action&quot;: [ &quot;ec2:RunInstances&quot; ],
      &quot;Resource&quot;: &quot;arn:aws:ec2:::availabilityzone/PARTI00&quot;,
      &quot;Condition&quot;: {
          &quot;ArnLike&quot;: {
              &quot;ec2:TargetImage&quot;: &quot;arn:aws:ec2:*:*:image/emi-239D37F2&quot;
          }
      }
    } ]
  }
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-6f77576acb8c9ef68ed227f6a296c19a>4.6 - Manage Walrus Resources</h1><p>This topic explains Walrus resources.</p><ul><li>Access Control Lists (ACLs) allow an account to explicitly grant access to a bucket or object to another account. ACLs only work between accounts, not IAM users. You specify accounts with the CanonicalID or the email address associated with the account (for Eucalyptus this is the email of the account admin).</li><li>These are set by the admin of an account to control the access of users within that specific account. This is how an admin controls what users in that specific account are allowed to do. Policies can specify allow/deny on specific S3 operations (e.g. s3:GetObject, or s3:PutObject). IAM policies are set by sending the policy to the IAM (Euare) endpoint, not S3 (Walrus).</li><li>These are IAM-like policies set by the bucket owner are not supported in Eucalyptus.
For more information about bucket ACLs, go to <a href=http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html>Access Control List (ACL) Overview</a> and <a href=http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-using-rest-api.html>Managing ACLs Using the REST API</a> .</li></ul><p>For more information about IAM policies, go to <a href=http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingIAMPolicies.html>Using IAM Policies</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-320258f138ecdf359054b41c11eb2d1f>5 - Manage Regions</h1><h1 id=manage-regions>Manage Regions</h1><p>This section provides information about regions and identity federation.</p></div><div class=td-content><h1 id=pg-db615c32de89d91a77013d625ff2e499>5.1 - Regions Overview</h1><p>Eucalytpus provides support for the notion of federation of identity.Federation of identity information means that a Cloud Administrator can create a federation of (otherwise independent) Eucalyptus &ldquo;clouds&rdquo; where a Cloud User, using the same credentials as always, can use any of these federated Eucalyptus cloud regions. For the parts of Identify Access Management (IAM) and Security Token Service (STS) that Eucalyptus implements, the experience exposed to the Cloud User is the same as that seen by an AWS user working across AWS regions.</p><p>A user can interact with any region using the same credentials, subjected to the same policies, and having uniformly accessible and structured principals (Accounts, Users, Groups, Roles, etc.). The globality also includes the STS service functionality, the temporary credentials produced by the STS service also work globally.</p><p>Notably, this feature is restricted to IAM/STS and does not include other services which have pseudo-global characteristics, such as global bucket name space for S3. The following are general principles associated with regions:</p><ul><li>A region needs to be Registered as a federated region</li><li>Registered regions should be discoverable via the EC2 DescribeRegions response</li><li>A cloud user&rsquo;s credentials should be accepted by any federated cloud</li><li>There is a global IAM service (identities and policies are global for all registered regions)</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-fedae7a6c85d933e61e99e237cd57022>5.2 - Region Configuration File Format</h1><p>This section describes the necessary configuration properties that need to be addressed.For federation to be successfully configured, each cloud (i.e. region) that will be part of the federated cloud needs to have the following properties set (at a minimum):</p><table><thead><tr><th style=text-align:left>Property Name</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>region.region_name</td><td style=text-align:left>This cloud property identifies the local region. This is required and should be valid for use in a DNS name.</td></tr><tr><td style=text-align:left>region.region_configuration</td><td style=text-align:left>This property is a JSON document that will be the same for all federated regions.</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-a462f267acaac5c4b8976eeaae34fe55>5.3 - Examples</h1><p>In this example, there will be two clouds used (10.111.5.32 and 10.111.1.1). Before setting up federation, the clouds must meet the following requirements:</p><ul><li>Eucalyptus installed</li><li>Eucalyptus DNS enabled</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-740779bdf59dfee316438e0ca35651ca>5.4 - Federation Differences Between AWS and Eucalyptus</h1><p>This section outlines the differences between AWS and Eucalyptus with respect to federation in the following platforms:</p><ul><li>Euca2ools vs. AWS EC2 API Tools</li><li>Eucalyptus OSG vs. AWS S3</li><li>Eucalyptus Resource-Level vs. AWS Resource-Level Permissions</li><li>Global Cloud Administration (Local vs. Federated)</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-8e39bf241d6fac54907f76a6c54f4c6a>5.5 - Troubleshooting</h1><p>This section is presented in a Q&A format to provide a quick reference to the most frequently asked questions.</p><ol><li><p>Can Cloud Administrators federate existing clouds (i.e. clouds that already have non-system Eucalyptus accounts)? <strong>A.</strong> No, this is currently not supported. If a cloud administrator wants to federate an Eucalyptus clouds, this must be done prior to any non-system Eucalyptus account/user/group creation.</p></li><li><p>Is Eucalyptus DNS required for federating Eucalyptus clouds? <strong>A.</strong> No, however its highly recommended to enable it.</p></li><li><p>Are supported for more granular IAM access policies per region? <strong>A.</strong> As of 4.2, no. IAM policies apply globally (for all regions). In order to get more granular IAM access, use availability zone restrictions under each region. For more information, see <a href=https://github.com/eucalyptus/architecture/wiki/iam-3.4-cluster-policies#Restrict_Image_to_Availability_Zone>Restrict Image to Availability Zone</a> .</p></li><li><p>What services/resources span globally? Which span regionally? <strong>A.</strong> Currently, only Eucalyptus IAM and STS are global services/resources. All other services/resources are region-based (i.e. Eucalyptus cloud-specific). The only resource that can be either global or regional are keypairs. This is because users can import the same keypair to each region, therefore, the keypair is globally accessible. For additional information, please refer to the AWS EC2 Documentation regarding <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/resources.html>Resource Locations</a> .</p></li><li><p>Are Eucalyptus system accounts global in a federated setup? <strong>A.</strong> No. Any Eucalyptus system account is limited to that region. Examples of Eucalyptus system accounts are as follows:</p></li></ol><ul><li>eucalyptus</li><li>(eucalyptus)blockstorage</li><li>(eucalyptus)aws-exec-read</li><li>(eucalyptus)cloudformation</li></ul><ol><li><p>Is and supported? <strong>A.</strong> No. There have been no improvements associated with Object Storage Gateway (OSG) regarding cross-regional behavior similar to AWS.</p></li><li><p>If a user uploads an object to an Object Storage Gateway in one region, will copies show up in other regions (similar to the behavior on AWS)? <strong>A.</strong> No, this is currently unsupported.</p></li><li><p>Do federated Eucalyptus clouds follow the same globally? <strong>A.</strong> No, Eucalyptus IAM limitations are regionally scoped.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-278f037a8bd490532a48f4f1a61bd8e5>6 - Manage Security</h1><h1 id=manage-security>Manage Security</h1><p>This section details concepts and tasks required to secure your cloud.</p></div><div class=td-content><h1 id=pg-5b7d7dee815ee6bcca58655f04835d1c>6.1 - Security Overview</h1><p>This topic is intended for people who are currently using Eucalyptus and who want to harden the cloud and underlying configuration.</p><p>This topic covers available controls and best practices for securing your Eucalyptus cloud. Cloud security depends on security across many layers of infrastructure and technology:</p><ul><li>Security of the physical infrastructure and hosts</li><li>Security of the virtual infrastructure</li><li>Security of instances</li><li>Security of storage and data</li><li>Security of users and accounts</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>For information about securing applications in AWS cloud, we recommend the Amazon Web Services whitepaper. The practices in this in this paper also apply to your Eucalyptus cloud.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-697bda1d9d1dd21fb81f0e1acb65c52d>6.2 - Best Practices</h1><h1 id=best-practices>Best Practices</h1><p>This topic contains recommendations for hardening your Eucalyptus cloud.</p></div><div class=td-content><h1 id=pg-83e928201de7403ef1103d92ab7fea90>6.2.1 - Authentication and Access Control Best Practices</h1><p>This topic describes best practices for Identity and Access Management and the account.</p><h2 id=identity-and-access-management>Identity and Access Management</h2><p>Eucalyptus manages access control through an authentication, authorization, and accounting system. This system manages user identities, enforces access controls over resources, and provides reporting on resource usage as a basis for auditing and managing cloud activities. The user identity organizational model and the scheme of authorizations used to access resources are based on and compatible with the AWS Identity and Access Management (IAM) system, with some Eucalyptus extensions provided that support ease-of-use in a private cloud environment.</p><p>For a general introduction to IAM in Eucalyptus, see <a href=https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/concepts_eiam/>Access Concepts</a> in the IAM Guide. For information about using IAM quotas to enforce limits on resource usage by users and accounts in Eucalyptus, see the <a href=https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/access_policies/access_policy_quota/>Quotas</a> section in the IAM Guide.</p><p>The <a href=http://docs.aws.amazon.com/IAM/latest/UserGuide/IAMBestPractices.html>Amazon Web Services IAM Best Practices</a> are also generally applicable to Eucalyptus.</p><h2 id=credential-management>Credential Management</h2><p>Protection and careful management of user credentials (passwords, access keys, X.509 certificates, and key pairs) is critical to cloud security. When dealing with credentials, we recommend:</p><ul><li>Limit the number of active credentials and do not create more credentials than needed.</li><li>Only create users and credentials for the interfaces that you will actually use. For example, if a user is only going to use the Management Console, do not create credentials access keys for that user.</li><li>Use and or to get a specific set of credentials if needed.</li><li>Regularly check for active credentials using commands and remove unused credentials. Ideally, only one pair of active credentials should be available at any time.</li><li>Rotate credentials regularly and delete old credentials as soon as possible. Credentials can be created and deleted using commands, such as and .</li><li>When rotating credentials, there is an option to deactivate, instead of removing, existing access/secret keys and X.509 certificates. Requests made using deactivated credentials will not be accepted, but the credentials remain in the Eucalyptus database and can be restored if needed. You can deactivate credentials using and .</li></ul><h2 id=privileged-roles>Privileged Roles</h2><p>The <code>eucalyptus</code> account is a super-privileged account in Eucalyptus. It has access to all cloud resources, cloud setup, and management. The users within this account do not obey IAM policies and compromised credentials can result in a complete cloud compromisation that is not easy to contain. We recommend limiting the use of this account and associated users&rsquo; credentials as much as possible.</p><p>For all unprivileged operations, use regular accounts. If you require super-privileged access (for example, management of resources across accounts and cloud setup administration), we recommend that you use one of the predefined privileged roles.</p><p>The Account, Infrastructure, and Resource Administrator <a href=https://www.eucastack.io/docs/iam_guide/managing_auth/understanding_identities/concepts_eiam/access_roles/>roles</a> provide a more secure way to gain super privileges in the cloud. Credentials returned by an assume-role operation are short-lived (unlike regular user credentials). Privileges available to each role are limited in scope and can be revoked easily by modifying the trust or access policy for the role.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ba213df0e04164ac639d1838a5962490>6.2.2 - Hosts</h1><p>This topic describes best practices for machines that host a Eucalyptus component.Eucalyptus recommends restricting physical and network access to all hosts comprising the Eucalyptus cloud, and disabling unused applications and ports on all machines used in your cloud.</p><p>After installation, no local access to Eucalyptus component hosts is required for normal cloud operations and all normal cloud operations can be done over remote web service APIs.</p><p>The user-facing services (UFS) and object storage gateway (OSG) are the only two components that generally expect remote connections from end users. Each Eucalyptus component can be put behind a firewall following the list of open ports and connectivity requirements described in the <a href=https://www.eucastack.io/docs/admin_guide/security_section/security_tasks/configuring_iptables/>Configure the Firewall</a> section.</p><p>For more information on securing Red Hat hosts, see the <a href=https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/index>Red Hat Enterprise Linux Security Guide</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5676afb7c0aa1c817051295ff82d245b>6.2.3 - Images and Instances</h1><p>Because all instances are based on images, creating a secure image helps to create secure instances. This topic lists best practices that will add additional security during image creation. As a general rule, harden your images similar to how you would harden your physical servers.</p><ul><li>Turn off password-based authentication by specifying the following option in :</li><li>Encourage non-root access by providing an unprivileged user account. If necessary, use sudo to allow access to privileged commands</li><li>Always delete the shell history and any other potentially sensitive information before bundling. If you attempt more than one bundle upload in the same image, the shell history contains your secret access key.</li><li>Bundling a running instance requires your private key and X.509 certificate. Put these and other credentials in a location that is not bundled (e.g. when using , pass the folder location where the certificates are stored as part of the values for the option). AWS provides more in-depth information on .</li><li>Consider installing in the image to help control root and non-root access. If cloud-init isn&rsquo;t available, a custom script can be used.</li><li>Consider using a tool such as zerofree to zero-out any unused space on the image.</li><li>Consider editing to clear out the swap every time the instance is booted. This can be done using the following command:</li><li>Consider enabling or for your images</li><li>Disable all unused services and ports on the image.</li><li>By default, all images registered have private launch permissions. Consider using to limit the accounts that can access the image.
After locking down the image using the steps above, additional steps can be done to further secure instances started from that image. For example, restrict access to the instance by allowing only trusted hosts or networks to access ports on your instances. You can control access to instances using <code>euca-authorize</code> and <code>euca-revoke</code> .</li></ul><p>Consider creating one security group that allows external logins and keep the remainder of your instances in a group that does not allow external logins. Review the rules in your security groups regularly, and ensure that you apply the principle of least privilege: only open up permissions as they are required. Use different security groups to deal with instances that have different security requirements.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-116e73440d426e3c5ea9bef31359e1b5>6.2.4 - Management Console</h1><p>This topic describes things you can do to secure the Eucalyptus Management Console.</p><ul><li>Enable HTTPS for communications with the console and configure the console to use a CA-signed certificate.</li><li>We do not recommend the &ldquo;Remember my keys&rdquo; option for &ldquo;Login to AWS&rdquo; because it stores AWS credentials in your browser&rsquo;s local storage and increases the security risk of AWS credentials being compromised.</li><li>Change the default session timeouts if needed. For more information, see .</li><li>If you don&rsquo;t use the Management Console, we recommend that you disable (using ). For more information, see .</li><li>Turn off password autocomplete for the console by setting the configuration option to false in the console’s configuration file.</li><li>If memcached is configured to be used by the console, make sure it’s not exposed publicly because there is no authentication mechanism enabled out of the box. If the default Eucalyptus-provided configuration is used, it accepts connections only from localhost.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-8bf0377070c3313dea6e1ff81ee341ef>6.2.5 - Message Security</h1><p>This topic describes which networking mode is the most secure, and describes how to enforce message security.</p><h2 id=replay-detection>Replay Detection</h2><p>Eucalyptus components receive and exchange messages using either Query or SOAP interfaces (or both). Messages received over these interfaces are required to have a time stamp (as defined by AWS specification) to prevent message replay attacks. Because Eucalyptus enforces strict policies when checking timestamps in the received messages, for the correct functioning of the cloud infrastructure, it is crucial to have clocks constantly synchronized (for example, with ntpd) on all machines hosting Eucalyptus components. To prevent user commands failures, it is also important to have clocks synchronized on the client machines.</p><p>Following the AWS specification, all Query interface requests containing the Timestamp element are rejected as expired after 15 minutes of the timestamp. Requests containing the Expires element expire at the time specified by the element. SOAP interface requests using WS-Security expire as specified by the WS-Security Timestamp element.</p><p>Replay detection parameters can be tuned as described in <a href=https://www.eucastack.io/docs/admin_guide/security_section/security_tasks/security_task_replays/>Configure Replay Protection</a> .</p><h2 id=endpoints>Endpoints</h2><p>Eucalyptus requires that all user requests (SOAP with WS-Security and Query) are signed, and that their content is properly hashed, to ensure integrity and non-repudiation of messages. For stronger security, and to ensure message confidentiality and server authenticity, client tools and applications should always use SSL/TLS protocols with server certification verification enabled for communications with Eucalyptus components.</p><p>By default, Eucalyptus components are installed with self-signed certificates. For public Eucalyptus endpoints, certificates signed by a trusted CA provider should be installed.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c47d035995b8048e6a740e8c3ee23f23>6.2.6 - Networking Modes</h1><p>This topic describes the recommendations for networking modes.A Eucalyptus deployment can be configured in EDGE (AWS EC2 Classic compatible) or VPCMIDO (AWS VPC compatible) networking modes. In both modes, by default, instances are not allowed to send traffic with spoofed IP and/or MAC addresses and receive traffic that are not destined to their own IP and/or MAC addresses. Security groups should be used to control the ingress traffic to instances (EDGE and VPCMIDO modes) and to control the egress traffic from instances (VPCMIDO mode).</p><p>VPCMIDO mode offers many security features not present in EDGE mode. Instances of different accounts are deployed in user-defined isolated networks within a Eucalyptus cloud. A combination of security features including VPC, VPC subnets, security groups, source/destination check configuration, route tables, internet gateways, and NAT gateways can be used to selectively enable and configure network access to/from instances or group of instances.</p><p>For more information about choosing a networking modes, see <a href=https://www.eucastack.io/docs/install_guide/eucalyptus/planning/planning_networking_modes/>Plan Networking Modes</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-13246c7b0d9bef36481bdf14a4cd5846>6.3 - Security Tasks</h1><h1 id=tasks>Tasks</h1><p>This section details the tasks needed to make your cloud secure.</p></div><div class=td-content><h1 id=pg-226e0bfa8b3c0ed408ce08527d014c08>6.3.1 - Configure SSL</h1><h1 id=configure-ssl>Configure SSL</h1><p>In order to connect to Eucalyptus using SSL, you must have a valid certificate for the User-Facing Services (UFS).</p></div><div class=td-content><h1 id=pg-dddbacba6d71acd887c93037013a80f0>6.3.1.1 - Configure and Enable SSL for the Management Console</h1><p>You can use secure HTTP for your console.To run your console over Secure HTTP:</p><p>Install nginx on your console server with the following command: <code>yum install nginx</code> Overwrite the default <code>nginx.conf</code> file with the template provided in <code>/usr/share/doc/eucaconsole-/nginx.conf.</code> <code>cp /usr/share/doc/eucaconsole-/nginx.conf /etc/nginx/nginx.conf</code> Uncomment the &rsquo;listen&rsquo; directive and uncomment/modify the SSL certificate paths in <code>/etc/nginx/nginx.conf</code> (search for &ldquo;SSL configuration&rdquo;). For example:</p><pre><code># SSL configuration
listen 443 ssl;
# ssl_certificate /path/to/ssl/pem_file;
# EXAMPLE:
ssl_certificate /etc/eucaconsole/console.crt;
# ssl_certificate_key /path/to/ssl/certificate_key;
# EXAMPLE: 
ssl_certificate_key /etc/eucaconsole/console.key;
# end of SSL configuration
</code></pre><p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>For more information on generating self-signed SSL certificates, go to .</div>Restart nginx using the following command: <code>systemctl restart nginx.service</code> Edit the <code>/etc/eucaconsole/console.ini</code> file, locate the <code>session.secure = false</code> parameter, change <code>false</code> to <code>true</code> , then add the <code>sslcert</code> and <code>sslkey</code> lines immediately following, per this example:</p><pre><code>session.secure = true
sslcert=/etc/eucaconsole/eucalyptus.com.chained.crt
sslkey=/etc/eucaconsole/eucalyptus.com.key
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-57fbe3724e7cedcae9c871e49b0c4ad9>6.3.1.2 - Configure and Enable SSL for the UFS</h1><p>This topic details tasks to configure SSL/TLS for the User-Facing Services (UFS)</p><p>If you have more than one host (other than node controllers), note the following:</p><ul><li>The keystore must be updated on each host running the eucalyptus-cloud service</li><li>The [key_alias] must be the same on each host</li><li>Use a wildcard certificate (i.e. *.&lt;system.dns.dnsdomain>), since UFS is responsible for all service API endpoints</li></ul><h2 id=create-a-keystore>Create a Keystore</h2><p>Eucalyptus uses a PKCS12-format keystore. If you are using a certificate signed by a trusted root CA, perform the following steps.</p><p>Enter the following command to convert your trusted certificate and key into an appropriate format:</p><pre><code>openssl pkcs12 -export -in [YOURCERT.crt] -inkey [YOURKEY.key] \
  -out tmp.p12 -name [key_alias]
</code></pre><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>The above command will request an export password, which is used in the following steps.</div><p>Save a backup of the Eucalyptus keystore, at <em>/var/lib/eucalyptus/keys/euca.p12</em> . Import your keystore into the Eucalyptus keystore on the UFS:</p><pre><code>keytool -importkeystore -srckeystore tmp.p12 -srcstoretype pkcs12 \
  -srcstorepass [export_password] -destkeystore /var/lib/eucalyptus/keys/euca.p12 \
  -deststoretype pkcs12 -deststorepass eucalyptus -alias [key_alias] -destkeypass eucalyptus
</code></pre><h2 id=enable-the-ufs-to-use-the-keystore>Enable the UFS to Use the Keystore</h2><p>To enable the UFS to use the keystore, perform the following steps in the CLC because the UFS gets all its configuration information from the CLC. Run the following commands on the CLC:</p><pre><code>euctl bootstrap.webservices.ssl.server_alias=[key_alias]
</code></pre><h2 id=optional-redirect-requests-to-use-port-443>Optional: Redirect Requests to use Port 443</h2><p>To allow user facing services requests on port 443 instead of the default 8773, run the following commands on the CLC:</p><pre><code>euctl bootstrap.webservices.port=443
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f830b9392693b0e025f4e6bd3504f145>6.3.2 - Change Multicast Address</h1><p>This topic describes how to change your multicast address for group membership.By default, Eucalyptus uses the multicast address 239.193.7.3 for group membership. Most data centers limit multicast address communication for security measures. We recommend that you use addresses in the administratively-scoped multicast address range.<div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>As of Eucalyptus 4.3, the default multicast address changed from 228.7.7.3 to 239.193.7.3.</div></p><p><strong>To change the multicast address for group membership</strong> Stop all services, starting from the CC, SC, Walrus, then CLC. For example:</p><pre><code>systemctl stop eucalyptus-cluster.service
systemctl stop eucalyptus-cloud.service
</code></pre><p>Change the <em>eucalyptus.conf</em> on the CC, modifying the <code>CLOUD_OPTS</code> parameter to the new IP address:</p><pre><code>CLOUD_OPTS=&quot;--mcast-addr=228.7.7.3&quot;
</code></pre><p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>The above shows how to set the multicast address to a value compatible with releases prior to Eucalyptus 4.3.</div>Restart all services, starting from the CLC, Walrus, SC, CC. For example:</p><pre><code>systemctl start eucalyptus-cloud.service
systemctl start eucalyptus-cluster.service
</code></pre><p>Verify that the configured multicast address is being used via netstat:</p><pre><code>netstat -nulp
</code></pre><p><strong>Postrequisites</strong></p><ul><li>Check the firewall after changing the multicast address. See for more information.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-28a7fb3671e5a330f487e45ac93c2298>6.3.3 - Configure Replay Protection</h1><p>You can configure replay detection in Java components (which includes the CLC, UFS, OSG, Walrus, and SC) to allow replays of the same message for a set time period.</p><p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>To protect against replay attacks, the Java components cache messages only for 15 minutes. So it’s important that any client tools used to interact with the components have the Expires element set to a value less than 15 minutes from the current time. This is usually not an issue with standard tools, such as euca2ools and Amazon EC2 API Tools.</div>The Java components&rsquo; replay detection algorithm rejects messages with the same signatures received within 15 minutes. The time within which messages with the same signatures are accepted is controlled by the <code>bootstrap.webservices.replay_skew_window_sec</code> property. The default value of this property is 3 seconds. To change this value, enter the following command:</p><pre><code>euctl bootstrap.webservices.replay_skew_window_sec=[new_value_in_seconds]
</code></pre><p>If you set this property to <code>0</code> , Eucalyptus will not allow any message replays. This setting provides the best protection against message replay attacks.</p><p>If you set this property to any value greater than 15 minutes plus the values of ws.clock_skew_sec (that is, to a value >= 920 sec in the default installation), Eucalyptus disables replay detection completely.</p><p>When checking message timestamps for expiration, Eucalyptus allows up to 20 seconds of clock drift between the machines. This is a default setting. You can change this value for the Java components at runtime by setting the <code>bootstrap.webservices.clock_skew_sec</code> property as follows:</p><pre><code>euctl bootstrap.webservices.clock_skew_sec=[new_value_in_seconds]
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-5e82611da967775627cb729da5a91d5f>6.3.4 - Configure Session Timeouts</h1><p>To set the session timeouts in the Management Console:</p><p>Modify the <code>session.timeout</code> and <code>session.cookie_expires</code> entries in the <code>[app:main]</code> section of the configuration file. The <code>session.timeout</code> value defines the number of seconds before an idle session is timed out. The <code>session.cookie_expires</code> is the maximum length that any session can be active before being timed out. All values are in seconds:</p><pre><code>session.timeout=1800



session.cookie_expires=43200
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-1ba059d499956d167936d9424839cde6>6.3.5 - Configure STS Actions</h1><p>The Security Token Service (STS) allows you to enable or disable specific token actions.By default, the enabled actions list is empty. However, this means that all actions are enabled. To disable actions, list each action in the <code>disabledactions</code> property. To enable specific actions, list them in the <code>enabledactions</code> property.</p><pre><code># euctl tokens
PROPERTY	tokens.disabledactions	{}
PROPERTY	tokens.enabledactions	{}
</code></pre><p>The values for each property are case-insensitive, space or comma-separated lists of token service actions. If an action is in the disable list it will not be permitted. Eucalyptus returns an HTTP status 503 and the code <code>ServiceUnavailable</code> .</p><p>If the enable list is not empty, Eucalyptus only permits the actions specifically listed.</p><table><thead><tr><th style=text-align:left>Action</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>AssumeRole</td><td style=text-align:left>Roles as per AWS/STS and Eucalyptus-specific personas admin functionality</td></tr><tr><td style=text-align:left>GetAccessToken</td><td style=text-align:left>Eucalyptus extension for password logins (for example, the Management Console)</td></tr><tr><td style=text-align:left>GetImpersonationToken</td><td style=text-align:left>Eucalyptus extension that allows cloud administrators to act as specific users</td></tr><tr><td style=text-align:left>GetSessionToken</td><td style=text-align:left>Session tokens in the sameas per AWS/STS</td></tr></tbody></table><p>For more information about STS, go to <a href=http://docs.aws.amazon.com/cli/latest/reference/sts/index.html>STS section of the AWS CLI Reference</a> .</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6341f918a06a1cdf6c45dcb3a1658ec6>6.3.6 - Configure the Firewall</h1><h2 id=restricting-network-access>Restricting Network Access</h2><p>This section provides basic guidance on setting up a firewall around your Eucalyptus components. It is not intended to be exhaustive.</p><p>On the Cloud Controller (CLC), Walrus, and Storage Controller (SC), allow for the following jGroups traffic:</p><ul><li><p>TCP connections between CLC, user-facing services (UFS), object storage gateway (OSG), Walrus, and SC on port 8779 (or the first available port in range 8779-8849)</p></li><li><p>UDP connections between CLC, UFS, OSG, Walrus, and SC on port 7500</p></li><li><p>Multicast connections between CLC and UFS, OSG, Walrus, and SC to IP 239.193.7.3 on UDP port 8773
On the UFS, allow the following connections:</p></li><li><p>TCP connections from end-users and instances on ports 8773</p></li><li><p>End-user and instance connections to DNS ports
On the CLC, allow the following connections:</p></li><li><p>TCP connections from UFS, CC and Eucalyptus instances (public IPs) on port 8773 (for metadata service)</p></li><li><p>TCP connections from UFS, OSG, Walrus, and SC on port 8777
On the CC, make sure that all firewall rules are compatible with the dynamic changes performed by Eucalyptus, described in the section below. Also allow the following connections:</p></li><li><p>TCP connections from CLC on port 8774
On OSG, allow the following connections:</p></li><li><p>TCP connections from end-users and instances on port 8773</p></li><li><p>TCP connections from SC and NC on port 8773
On Walrus, allow the following connections:</p></li><li><p>TCP connections from OSG on port 8773
On the SC, allow the following connections:</p></li><li><p>TCP connections from CLC and NC on TCP port 8773</p></li><li><p>TCP connections from NC on TCP port 3260, if tgt (iSCSI open source target) is used for EBS in DAS or Overlay modes
On the NC, allow the following connections:</p></li><li><p>TCP connections from CC on port 8775</p></li><li><p>TCP connections from other NCs on port 16514</p></li><li><p>DHCP traffic forwarding to VMs</p></li><li><p>Traffic forwarding to and from instances&rsquo; private IP addresses</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1f9a21e581772e0f82f0ef2c19c6a415>6.3.7 - Reserve Ports</h1><table><thead><tr><th style=text-align:left>Port</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>TCP 5005</td><td style=text-align:left>DEBUG ONLY: This port is used for debugging (using the &ndash;debug flag).</td></tr><tr><td style=text-align:left>TCP 8772</td><td style=text-align:left>DEBUG ONLY: JMX port. This is disabled by default, and can be enabled with the &ndash;debug or &ndash;jmx options for CLOUD_OPTS.</td></tr><tr><td style=text-align:left>TCP 8773</td><td style=text-align:left>Web services port for the CLC, user-facing services (UFS), object storage gateway (OSG), Walrus SC; also used for external and internal communications by the CLC and Walrus. Configurable with euctl.</td></tr><tr><td style=text-align:left>TCP 8774</td><td style=text-align:left>Web services port on the CC. Configured in the eucalyptus.conf configuration file</td></tr><tr><td style=text-align:left>TCP 8775</td><td style=text-align:left>Web services port on the NC. Configured in the eucalyptus.conf configuration file.</td></tr><tr><td style=text-align:left>TCP 8777</td><td style=text-align:left>Database port on the CLC</td></tr><tr><td style=text-align:left>TCP 8779 (or next available port, up to TCP 8849)</td><td style=text-align:left>jGroups failure detection port on CLC, UFS, OSG, Walrus SC. If port 8779 is available, it will be used, otherwise, the next port in the range will be attempted until an unused port is found.</td></tr><tr><td style=text-align:left>TCP 8888</td><td style=text-align:left>The default port for the Management Console. Configured in the /etc/eucalyptus-console/console.ini file.</td></tr><tr><td style=text-align:left>TCP 16514</td><td style=text-align:left>TLS port on Node Controller, required for instance migrations</td></tr><tr><td style=text-align:left>UDP 7500</td><td style=text-align:left>Port for diagnostic probing on CLC, UFS, OSG, Walrus SC</td></tr><tr><td style=text-align:left>UDP 8773</td><td style=text-align:left>Membership port for any UFS, OSG, Walrus, and SC</td></tr><tr><td style=text-align:left>UDP 8778</td><td style=text-align:left>The bind port used to establish multicast communication</td></tr><tr><td style=text-align:left>TCP/UDP 53</td><td style=text-align:left>DNS port on UFS</td></tr><tr><td style=text-align:left>UDP 63822</td><td style=text-align:left>eucanetd binds to localhost port 63822 and uses it to detect and avoid running multiple instances (of eucanetd)</td></tr></tbody></table><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>For information about ports used by MidoNet, see the (Category OpenStack can be ignored).</div></div><div class=td-content style=page-break-before:always><h1 id=pg-5eed8aeffe499879dcbee977c2a48e2b>6.3.8 - Synchronize Components</h1><p>To synchronize your Eucalyptus component machines with an NTP server, perform the following tasks.</p><p>Enter the following command on a machine hosting a Eucalyptus component:</p><pre><code># ntpdate pool.ntp.org
# systemctl start ntpd.service
# systemctl enable ntpd.service
# ps ax | grep ntp
# hwclock --systohc  
</code></pre><p>Repeat for each machine hosting a Eucalyptus component.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-25d5c1581cfff916bab451388a3fd597>7 - Eucalyptus Commands</h1><h1 id=eucalyptus-commands>Eucalyptus Commands</h1><p>This section contains reference information for Eucalyptus administration commands.</p></div><div class=td-content><h1 id=pg-6969b7b3f9e92cd651d22c179842083b>7.1 - Eucalyptus Administration Commands</h1><h1 id=eucalyptus-administration-commands>Eucalyptus Administration Commands</h1><p>Eucalyptus offers commands for common administration tasks and inquiries. This section provides a reference for these commands.</p></div><div class=td-content><h1 id=pg-a2d37d4166ce932546080639f12d8306>7.1.1 - euctl</h1><h2 id=syntax>Syntax</h2><pre><code>euctl [-Anr] [-d | -s] NAME ...
euctl [-nq] NAME=VALUE ...
euctl [-nq] NAME=@FILE ...
euctl --dump [--format {raw,json,yaml}] NAME
euctl --edit [--format {raw,json,yaml}] NAME
</code></pre><h2 id=positional-arguments>Positional Arguments</h2><table><thead><tr><th style=text-align:left>Argument</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>NAME</td><td style=text-align:left>Output a variable&rsquo;s value.</td></tr><tr><td style=text-align:left>NAME=VALUE</td><td style=text-align:left>Set a variable to the specified value and then output it.</td></tr><tr><td style=text-align:left>NAME=@FILE</td><td style=text-align:left>Set a variable to that of the specified file&rsquo;s contents, then output it.</td></tr></tbody></table><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-A, &ndash;all-types</td><td style=text-align:left>List all the known variable names, including structures. Those with string or integer values will be output as usual; for the structured values, the methods of retrieving them are given.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-d</td><td style=text-align:left>Output variables&rsquo; default values rather than their current values. Note that not all variables have default values.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-s</td><td style=text-align:left>Show variables&rsquo; descriptions instead of their current values.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-n</td><td style=text-align:left>Suppress output of the variable name. This is useful for setting shell variables.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-q</td><td style=text-align:left>Suppress all output when setting a variable. This option overrides the behavior of the -n parameter.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-r, &ndash;reset</td><td style=text-align:left>Reset the given variables to their default values.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;dump</td><td style=text-align:left>Output the value of a structured variable in its entirety. The value will be formatted in the manner specified by the &ndash;format option.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;edit</td><td style=text-align:left>Edit the value of a structure variable interactively. The value will be formatted in the manner specified by the &ndash;format option. Only one variable may be edited per invocation. When looking for an editor, the program will first try the environment variable VISUAL, then the environment variable EDITOR, and finally the default editor, vi.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;format {raw,json,yaml}</td><td style=text-align:left>Use the specified format when displaying a structured variable.Valid values: raw</td><td style=text-align:left>json</td></tr></tbody></table><h2 id=examples>Examples</h2><p>When retrieving a variable, a subset of the MIB name may be specified to retrieve a list of variables in that subset. For example, to list all the dns variables:</p><pre><code>euctl dns
</code></pre><p>This replaces <code>euca-describe-properties</code> .</p><p>When setting a variable, the MIB name should be followed by an equal sign and the new value:</p><pre><code>euctl dns.enabled=true
</code></pre><p>This replaces <code>euca-modify-property -p</code> .</p><p>To write variables using the contents of the files as their new values rather than typing them into the command line, follow them with <code>=@</code> and those file names:</p><pre><code>euctl cloud.network.network_configuration=@/etc/eucalyptus/network.yaml
</code></pre><p>This replaces <code>euca-modify-property -f</code> .</p><p>Specify a filename to read the values from a file:</p><pre><code>myproperty=@myvaluefile
</code></pre><p>It is possible to read or write more than one variable in a single invocation of <code>euctl</code> . Just separate them with spaces:</p><pre><code>euctl one=1 two=2 three four=@4.txt five
</code></pre><p>In all of these cases, <code>euctl</code> will generally output each variable named on its command line, along with its current (and potentially just-changed) value. For example, the output of the command above could be:</p><pre><code>one = 1 
two = 2
three = 3
four = 4
five = 5
</code></pre><p>To reset a variable to its default value, specify the -r option:</p><pre><code>euctl -r dns.enabled
</code></pre><p>The information available from euctl consists of integers, strings, and structures. The structured information can only be retrieved by specialized programs and, in some cases, this program&rsquo;s <code>--edit</code> and <code>--dump</code> options.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>Refer to this command&rsquo;s manpage for a complete list of environment variables, options, and outputs.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-8cf7f7238ebe61a58f5ac8ed855fb652>7.1.2 - euserv-deregister-service</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-deregister-service [-U URL] [--region USER@REGION] [-I KEY_ID]

       [-S KEY] [--security-token TOKEN] [--debug]
              [--debugger] [--version] [-h] SVCINSTANCE
</code></pre><h2 id=positional-arguments>Positional Arguments</h2><table><thead><tr><th style=text-align:left>Argument</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>SVCINSTANCE</td><td style=text-align:left>Name of the service instance to de-register.</td></tr></tbody></table><h2 id=output>Output</h2><p>Eucalyptus returns a message stating that service instance was successfully de-registered.</p><h2 id=example>Example</h2><p>To de-register the dns service named &ldquo;API_10.111.1.44.dns&rdquo;:</p><pre><code>euserv-deregister-service API_10.111.1.44.dns
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-a5bfbddcc33a3bc8eaefea7da24ef443>7.1.3 - euserv-describe-events</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-describe-events [-s] [-f FORMAT]
</code></pre><h2 id=description>Description</h2><p>Events come in the form of a list, where each event contains one or more of the following tags:</p><table><thead><tr><th style=text-align:left>Tag</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>id</td><td style=text-align:left>A unique ID for the event.</td></tr><tr><td style=text-align:left>message</td><td style=text-align:left>A free-form text description of the event.</td></tr><tr><td style=text-align:left>severity</td><td style=text-align:left>The message&rsquo;s severity (FATAL, URGENT, ERROR, WARNING, INFO, DEBUG, TRACE).</td></tr><tr><td style=text-align:left>stack-trace</td><td style=text-align:left>The stack trace, if any, corresponding to the event. The -s option is required to make this appear.</td></tr><tr><td style=text-align:left>subject-arn</td><td style=text-align:left>The Eucalyptus ARN of the service affected by the event.</td></tr><tr><td style=text-align:left>subject-name</td><td style=text-align:left>The name of the service affected by the event.</td></tr><tr><td style=text-align:left>subject-type</td><td style=text-align:left>The type of service affected by the event.</td></tr><tr><td style=text-align:left>timestamp</td><td style=text-align:left>The date and time of the event&rsquo;s creation.</td></tr></tbody></table><h2 id=environment>Environment</h2><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>The command requires access keys and knowledge of where to locate the web services it needs to contact. It can obtain these from several locations.</div><table><thead><tr><th style=text-align:left>Environment</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>AWS_ACCESS_KEY_ID</td><td style=text-align:left>The access key ID to use when authenticating web service requests. This takes precedence over and euca2ools.ini, but not -I.</td></tr><tr><td style=text-align:left>AWS_SECRET_ACCESS_KEY</td><td style=text-align:left>The secret key to use when authenticating web service requests. This takes precedence over &ndash;region and euca2ools.ini(5), but not -S.</td></tr><tr><td style=text-align:left>EUCA_BOOTSTRAP_URL</td><td style=text-align:left>The URL of the service to contact. This takes precedence over &ndash;region and euca2ools.ini, but not -U.</td></tr></tbody></table><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-f, &ndash;format format</td><td style=text-align:left>Print events in a given format, where format can be: yaml or oneline, and format:string. See for details about each format. When omitted, the format defaults to yaml.<a href></a></td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-s, &ndash;show-stack-traces</td><td style=text-align:left>Include the stack-trace tag in events&rsquo; data. This is omitted by default due to its length.</td><td style=text-align:left>No</td></tr></tbody></table><h2 id=output>Output</h2><p>There are several built-in formats, and you can define additional formats using a format: <em>string</em> , as described below. Here are the details of the built-in formats:</p><p>yaml
This outputs block-style YAML designed to be easily readable. Tags that are empty or not defined do not appear in this output at all.</p><pre><code>events:
            - timestamp: {timestamp}
            severity: {severity}
            id: {id}
            subject-type: {subject-type}
            subject-name: {subject-name}
            subject-host: {subject-host}
            subject-arn: {subject-arn}
            message: |-
            {message}
            stack-trace: |-
            {stack-trace}
</code></pre><p>oneline
This output is designed to be as compact as possible.</p><pre><code>{timestamp} {severity} {subject-type} {subject-name} {message}
</code></pre><p>format:string
The <code>format:</code> <em>string</em> format allows you to specify which information you want to show using placeholders enclosed in curly braces to indicate where to show the tags for each event. For example:</p><pre><code>euserv-describe-events -f &quot;format:{timestamp} {subject-name} {message}&quot;
</code></pre><h2 id=example>Example</h2><p>To output a list of service-affecting events in the <code>oneline</code> format:</p><pre><code>euserv-describe-events --format oneline
2016-06-20 16:16:08 INFO node 10.111.1.15 the node is operating normally\nFound service status for 10.111.1.15: ENABLED
2016-06-27 17:37:57 ERROR node 10.111.5.50 Error occurred in transport
2016-06-28 07:00:17 ERROR node 10.111.5.50
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-c70f153ba84a6618f2f703140174aadd>7.1.4 - euserv-describe-node-controllers</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-describe-node-controllers [--ec2-url URL] [--show-headers]

   [--show-empty-fields] [-U URL]
          [--region USER@REGION] [-I KEY_ID]  [-S  KEY]  [--security-token
          TOKEN] [--debug] [--debugger] [--version] [-h]
</code></pre><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>&ndash;ec2-url url</td><td style=text-align:left>The compute service&rsquo;s endpoint URL.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;show-headers</td><td style=text-align:left>Show column headers.</td><td style=text-align:left>No</td></tr></tbody></table><h2 id=output>Output</h2><p>Eucalyptus returns information about the node controller and its instances, for example:</p><pre><code>NODE  one  10.111.1.53  enabled    
INSTANCE  i-162a8f09      
INSTANCE  i-2b6cdd10      
NODE  one  10.111.5.132  enabled    
INSTANCE  i-ba9307d7
</code></pre><h2 id=example>Example</h2><pre><code>euserv-describe-node-controllers --region localhost
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-e9a48048918ffaf831fb098b1d60207c>7.1.5 - euserv-describe-service-types</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-describe-service-types [-a] [--show-headers]

[--show-empty-fields] [-U URL]
   [--region  USER@REGION]  [-I  KEY_ID]  [-S  KEY] [--security-token TOKEN]
   [--debug] [--debugger] [--version] [-h]
</code></pre><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-a, &ndash;all</td><td style=text-align:left>Show all service types regardless of their properties.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;show-headers</td><td style=text-align:left>Show column headers.</td><td style=text-align:left>No</td></tr></tbody></table><h2 id=output>Output</h2><p>Eucalyptus returns a list of service types.</p><h2 id=example>Example</h2><pre><code>euserv-describe-service-types 
SVCTYPE  arbitrator                The Arbitrator service                                      
SVCTYPE  autoscaling     user-api  Auto Scaling API service                                    
SVCTYPE  cloudformation  user-api  Cloudformation API service                                  
SVCTYPE  cloudwatch      user-api  CloudWatch API service                                      
SVCTYPE  cluster                   The Cluster Controller service                              
SVCTYPE  compute         user-api  the Eucalyptus EC2 API service                              
SVCTYPE  dns             user-api  Eucalyptus DNS server                                       
SVCTYPE  euare           user-api  IAM API service                                             
SVCTYPE  eucalyptus                eucalyptus service implementation                           
SVCTYPE  identity        user-api  Eucalyptus identity service                                 
SVCTYPE  imaging         user-api  Eucalyptus imaging service                                  
SVCTYPE  loadbalancing   user-api  ELB API service                                             
SVCTYPE  objectstorage   user-api  S3 API service                                              
SVCTYPE  simpleworkflow  user-api  Simple Workflow API service                                 
SVCTYPE  storage                   The Storage Controller service                              
SVCTYPE  tokens          user-api  STS API service                                             
SVCTYPE  user-api                  The service group of all user-facing API endpoint services  
SVCTYPE  walrusbackend             The legacy Walrus Backend service
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-d778cb3b0aaf9315d3e4d21e5a17faf5>7.1.6 - euserv-describe-services</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-describe-services [-a]

       [--group-by-type | --group-by-zone | --group-by-host | --expert]
         [--show-headers]   [--show-empty-fields]   [-U   URL]  [--region
         USER@REGION]  [-I  KEY_ID]  [-S  KEY]  [--security-token  TOKEN]
         [--filter  NAME=VALUE]  [--debug]  [--debugger] [--version] [-h]
         [SVCINSTANCE [SVCINSTANCE ...]]
</code></pre><h2 id=positional-arguments>Positional Arguments</h2><table><thead><tr><th style=text-align:left>Argument</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>SVCINSTANCE</td><td style=text-align:left>Limit results to specific instances of services.</td></tr></tbody></table><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-a, &ndash;all</td><td style=text-align:left>Show all services regardless of type.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;group-by-type</td><td style=text-align:left>Collate services by service type (default).</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;group-by-zone</td><td style=text-align:left>Collate services by availability zone.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;group-by-host</td><td style=text-align:left>Collate services by host.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;expert</td><td style=text-align:left>Show advanced information, including service accounts.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;show-headers</td><td style=text-align:left>Show column headers.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;filter name=value</td><td style=text-align:left>Restrict results to those that meet criteria. Allowed filter names: availability-zone. The service&rsquo;s availability zone.host. The machine running the service.internal. Whether the service is used only internally (true or false).public. Whether the service is public (true or false).service-group. Whether the service is a member of a specific service group.service-group-member. Whether the service is a member of any service group (true or false).service-type. The type of service.state. The service&rsquo;s state.</td><td style=text-align:left>No</td></tr></tbody></table><h2 id=output>Output</h2><p>Eucalyptus returns information about the services you specified.</p><h2 id=example>Example</h2><p>Verify that you are looking at the cloud controllers view of the service state by explicitly running against that host:</p><pre><code>euserv-describe-services --filter service-type=storage -U http://localhost:8773/services/Empyrean
SERVICE  storage  one  one-sc-1  enabled
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-f36f17e872bf9ed38edd86c023d9cbe8>7.1.7 - euserv-migrate-instances</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-migrate-instances (-s HOST | -i INSTANCE)

  [--include-dest HOST | --exclude-dest HOST]
  [-U URL] [--region USER@REGION] [-I KEY_ID]  [-S  KEY]  [--security-token
  TOKEN] [--debug] [--debugger] [--version] [-h]
</code></pre><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-s, &ndash;source host</td><td style=text-align:left>Remove all instances from a specific host.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-i, &ndash;instance instance</td><td style=text-align:left>Remove one instance from its current host.</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;include-dest host</td><td style=text-align:left>Allow migration to only a specific host (may be used more than once).</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>&ndash;exclude-dest host</td><td style=text-align:left>Allow migration to any host except a specific one (may be used more than once).</td><td style=text-align:left>No</td></tr></tbody></table><h2 id=output>Output</h2><p>Unless requested, no output is given. You can run the <code>euserv-describe-*</code> command to verify that the migration activity completed successfully, as shown in the example following.</p><h2 id=example>Example</h2><p>To migrate an instance from its current host:</p><pre><code>euserv-migrate-instances -i i-8eacd211 
euserv-describe-node-controllers 
NODE  zone-555  10.104.1.200  enabled    

NODE  zone-555  10.104.1.201  enabled    
INSTANCE  i-8eacd211      
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-5337787a5abaab70a9ea99454b1aa3eb>7.1.8 - euserv-modify-service</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-modify-service -s STATE [-U URL] [--region USER@REGION]

   [-I KEY_ID] [-S KEY] [--security-token TOKEN]
   [--debug] [--debugger] [--version] [-h] SVCINSTANCE
</code></pre><h2 id=positional-arguments>Positional Arguments</h2><table><thead><tr><th style=text-align:left>Argument</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>SVCINSTANCE</td><td style=text-align:left>The name of the service instance to modify.</td></tr></tbody></table><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-s, &ndash;state state</td><td style=text-align:left>The state to change to.</td><td style=text-align:left>Yes</td></tr></tbody></table><h2 id=output>Output</h2><p>No output is given. You can run the <code>euserv-describe-services</code> command to verify that the modification completed successfully, as shown in the example following.</p><h2 id=example>Example</h2><p>To modify the state of a storage controller service named &ldquo;two-sc-1&rdquo; to stopped:</p><pre><code>euserv-modify-service -s stopped two-sc-1
euserv-describe-services two-sc-1
SERVICE  storage  two  two-sc-1  stopped  
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-c5b48c310af33cd72b92785cce136c58>7.1.9 - euserv-register-service</h1><h2 id=syntax>Syntax</h2><pre><code>euserv-register-service -t TYPE -h IP [--port PORT] [-z ZONE] [-U URL]

       [--region USER@REGION] [-I KEY_ID] [-S KEY]
           [--security-token   TOKEN]  [--debug]  [--debugger]  [--version]
           [--help] SVCINSTANCE
</code></pre><h2 id=positional-arguments>Positional Arguments</h2><table><thead><tr><th style=text-align:left>Argument</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>SVCINSTANCE</td><td style=text-align:left>The name of the new service instance to register.</td></tr></tbody></table><h2 id=options>Options</h2><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th><th style=text-align:left>Required</th></tr></thead><tbody><tr><td style=text-align:left>-t, &ndash;type type</td><td style=text-align:left>The new service instance&rsquo;s type.</td><td style=text-align:left>Yes</td></tr><tr><td style=text-align:left>-h, &ndash;host IP</td><td style=text-align:left>The host on which the new instance of the service runs.</td><td style=text-align:left>Yes</td></tr><tr><td style=text-align:left>&ndash;port port</td><td style=text-align:left>The port on which the new instance of the service runs (default for cluster: 8774, otherwise: 8773).</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left>-z, &ndash;availability-zone zone</td><td style=text-align:left>The availability zone in which to register the new service instance. This is required only for services of certain types.</td><td style=text-align:left>Conditional</td></tr></tbody></table><h2 id=output>Output</h2><p>No output is given when it succeeds.</p><h2 id=example>Example</h2><p>To register the ufs service named &ldquo;user-api-5&rdquo;:</p><pre><code>euserv-register-service -t user-api -h 10.0.0.15 user-api-5
</code></pre><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>A prerequisite for this command is to have the credentials in the shell you are running the register command. For example:</div></div><div class=td-content style=page-break-before:always><h1 id=pg-5c036c1422f881139c085dfb36899de3>7.2 - Eucalyptus Configuration Variables</h1><p>Eucalyptus exposes a number of variables that can be configured using the command. This topic explains what types of variables Eucalyptus uses, and lists the most common configurable variables.</p><h2 id=eucalyptus-variable-types>Eucalyptus Variable Types</h2><p>Eucalyptus uses two types of variables: ones that can be changed (as configuration options), and ones that cannot be changed (they are displayed as variables, but configured by modifying the <code>eucalyptus.conf</code> file on the CC).</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Note</h4>Once a cloud is in use and has started operating based on these variables, it is not safe to change them at runtime.</div><h2 id=eucalyptus-variables>Eucalyptus Variables</h2><p>The following table contains a list of common Eucalyptus cloud variables.</p><table><thead><tr><th style=text-align:left>Variable</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>authentication.access_keys_limit</td><td style=text-align:left>Limit for access keys per user</td></tr><tr><td style=text-align:left>authentication.authorization_cache</td><td style=text-align:left>Authorization cache configuration, for credentials and authorization metadata</td></tr><tr><td style=text-align:left>authentication.authorization_expiry</td><td style=text-align:left>Default expiry for cached authorization metadata</td></tr><tr><td style=text-align:left>authentication.authorization_reuse_expiry</td><td style=text-align:left>Default expiry for re-use of cached authorization metadata on failure</td></tr><tr><td style=text-align:left>authentication.credential_download_generate_certificate</td><td style=text-align:left>Strategy for generation of certificates on credential download (Never</td></tr><tr><td style=text-align:left>authentication.credential_download_host_match</td><td style=text-align:left>CIDR to match against for host address selection</td></tr><tr><td style=text-align:left>authentication.credential_download_port</td><td style=text-align:left>Port to use in service URLs when &lsquo;bootstrap.webservices.port&rsquo; is not appropriate.</td></tr><tr><td style=text-align:left>authentication.default_password_expiry</td><td style=text-align:left>Default password expiry time</td></tr><tr><td style=text-align:left>authentication.max_policy_attachments</td><td style=text-align:left>Maximum number of attached managed policies</td></tr><tr><td style=text-align:left>authentication.max_policy_size</td><td style=text-align:left>Maximum size for an IAM policy (bytes)</td></tr><tr><td style=text-align:left>authentication.signing_certificates_limit</td><td style=text-align:left>Limit for signing certificates per user</td></tr><tr><td style=text-align:left>authentication.system_account_quota_enabled</td><td style=text-align:left>Process quotas for system accounts</td></tr><tr><td style=text-align:left>autoscaling.activityexpiry</td><td style=text-align:left>Expiry age for scaling activities. Older activities are deleted.</td></tr><tr><td style=text-align:left>autoscaling.activityinitialbackoff</td><td style=text-align:left>Initial back-off period for failing activities.</td></tr><tr><td style=text-align:left>autoscaling.activitymaxbackoff</td><td style=text-align:left>Maximum back-off period for failing activities.</td></tr><tr><td style=text-align:left>autoscaling.activitytimeout</td><td style=text-align:left>Timeout for a scaling activity.</td></tr><tr><td style=text-align:left>autoscaling.maxlaunchincrement</td><td style=text-align:left>Maximum instances to launch at one time.</td></tr><tr><td style=text-align:left>autoscaling.maxregistrationretries</td><td style=text-align:left>Number of times to attempt load balancer registration for each instance.</td></tr><tr><td style=text-align:left>autoscaling.maxtags</td><td style=text-align:left>Maximum number of user defined tags for a group</td></tr><tr><td style=text-align:left>autoscaling.pendinginstancetimeout</td><td style=text-align:left>Timeout for a pending instance.</td></tr><tr><td style=text-align:left>autoscaling.suspendedprocesses</td><td style=text-align:left>Globally suspend scaling processes; a comma-delimited list of processes (Launch,Terminate,HealthCheck, ReplaceUnhealthy,AZRebalance, AlarmNotification,ScheduledActions, AddToLoadBalancer). Default is empty, meaning the processes are not suspended.</td></tr><tr><td style=text-align:left>autoscaling.suspendedtasks</td><td style=text-align:left>Suspended scaling tasks.</td></tr><tr><td style=text-align:left>autoscaling.suspensionlaunchattemptsthreshold</td><td style=text-align:left>Minimum launch attempts for administrative suspension of scaling activities for a group.</td></tr><tr><td style=text-align:left>autoscaling.suspensiontimeout</td><td style=text-align:left>Timeout for administrative suspension of scaling activities for a group.</td></tr><tr><td style=text-align:left>autoscaling.untrackedinstancetimeout</td><td style=text-align:left>Timeout for termination of untracked auto scaling instances.</td></tr><tr><td style=text-align:left>autoscaling.zonefailurethreshold</td><td style=text-align:left>Time after which an unavailable zone should be treated as failed</td></tr><tr><td style=text-align:left>bootstrap.async.future_listener_debug_limit_secs</td><td style=text-align:left>Number of seconds a future listener can execute before a debug message is logged.</td></tr><tr><td style=text-align:left>bootstrap.async.future_listener_error_limit_secs</td><td style=text-align:left>Number of seconds a future listener can execute before an error message is logged.</td></tr><tr><td style=text-align:left>bootstrap.async.future_listener_get_retries</td><td style=text-align:left>Total number of seconds a future listener&rsquo;s executor waits to get().</td></tr><tr><td style=text-align:left>bootstrap.async.future_listener_get_timeout</td><td style=text-align:left>Number of seconds a future listener&rsquo;s executor waits to get() per call.</td></tr><tr><td style=text-align:left>bootstrap.async.future_listener_info_limit_secs</td><td style=text-align:left>Number of seconds a future listener can execute before an info message is logged.</td></tr><tr><td style=text-align:left>bootstrap.hosts.state_initialize_timeout</td><td style=text-align:left>Timeout for state initialization (in msec).</td></tr><tr><td style=text-align:left>bootstrap.hosts.state_transfer_timeout</td><td style=text-align:left>Timeout for state transfers (in msec).</td></tr><tr><td style=text-align:left>bootstrap.notifications.batch_delay_seconds</td><td style=text-align:left>Interval (in seconds) during which a notification will be delayed to allow for batching events for delivery.</td></tr><tr><td style=text-align:left>bootstrap.notifications.digest</td><td style=text-align:left>Send a system state digest periodically.</td></tr><tr><td style=text-align:left>bootstrap.notifications.digest_frequency_hours</td><td style=text-align:left>Period (in hours) with which a system state digest will be delivered.</td></tr><tr><td style=text-align:left>bootstrap.notifications.digest_only_on_errors</td><td style=text-align:left>If sending system state digests is set to true, then only send the digest when the system has failures to report.</td></tr><tr><td style=text-align:left>bootstrap.notifications.digest_frequency_hours</td><td style=text-align:left>Period (in hours) with which a system state digest will be delivered.</td></tr><tr><td style=text-align:left>bootstrap.notifications.digest_only_on_errors</td><td style=text-align:left>If sending system state digests is set to true, then only send the digest when the system has failures to report.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email_from</td><td style=text-align:left>From email address used for notification delivery.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email_from_name</td><td style=text-align:left>From email name used for notification delivery.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email_from_name</td><td style=text-align:left>From email name used for notification delivery.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email_subject_prefix</td><td style=text-align:left>Email subject used for notification delivery.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email_to</td><td style=text-align:left>Email address where notifications are to be delivered.</td></tr><tr><td style=text-align:left>bootstrap.notifications.include_fault_stack</td><td style=text-align:left>Period (in hours) with which a system state digest will be delivered.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email.email_smtp_host</td><td style=text-align:left>SMTP host to use when sending email. If unset, the following values are tried: 1) the value of the &lsquo;mail.smtp.host&rsquo; system variable, 2) localhost, 3) mailhost.</td></tr><tr><td style=text-align:left>bootstrap.notifications.email.email_smtp_port</td><td style=text-align:left>SMTP port to use when sending email. Defaults to 25</td></tr><tr><td style=text-align:left>bootstrap.servicebus.common_thread_pool_size</td><td style=text-align:left>Default thread pool for component message processing. When the size of the common thread pool is zero or less, Eucalyptus uses separate thread pools for each component and a pool for dispatching. Default size = 256 threads.</td></tr><tr><td style=text-align:left>bootstrap.servicebus.component_thread_pool_size</td><td style=text-align:left>Used when the size of the common thread pool is zero or less. Default size = 64 threads.</td></tr><tr><td style=text-align:left>bootstrap.servicebus.context_message_log_whitelist</td><td style=text-align:left>Message patterns to match for logging. Allows selective message logging at INFO level. A list of wildcards that allows selective logging for development or troubleshooting (e.g., on request/response, on a package, on a component). Logging can impact security; do not use as a general purpose logging feature.</td></tr><tr><td style=text-align:left>bootstrap.servicebus.context_timeout</td><td style=text-align:left>Message context timeout in seconds. Default = 60 seconds.</td></tr><tr><td style=text-align:left>bootstrap.servicebus.dispatch_thread_pool_size</td><td style=text-align:left>Used when the size of the common thread pool is zero or less. Default size = 256 threads.</td></tr><tr><td style=text-align:left>bootstrap.servicebus.hup</td><td style=text-align:left>Do a soft reset. Default = 0 (false).</td></tr><tr><td style=text-align:left>bootstrap.timer.rate</td><td style=text-align:left>Amount of time (in milliseconds) before a previously running instance which is not reported will be marked as terminated.</td></tr><tr><td style=text-align:left>bootstrap.topology.coordinator_check_backoff_secs</td><td style=text-align:left>Backoff between service state checks (in seconds).</td></tr><tr><td style=text-align:left>bootstrap.topology.local_check_backoff_secs</td><td style=text-align:left>Backoff between service state checks (in seconds).</td></tr><tr><td style=text-align:left>bootstrap.tx.concurrent_update_retries</td><td style=text-align:left>Maximum number of times a transaction may be retried before giving up.</td></tr><tr><td style=text-align:left>bootstrap.webservices.async_internal_operations</td><td style=text-align:left>Execute internal service operations from a separate thread pool (with respect to I/O).</td></tr><tr><td style=text-align:left>bootstrap.webservices.async_operations</td><td style=text-align:left>Execute service operations from a separate thread pool (with respect to I/O).</td></tr><tr><td style=text-align:left>bootstrap.webservices.async_pipeline</td><td style=text-align:left>Execute service specific pipeline handlers from a separate thread pool (with respect to I/O).</td></tr><tr><td style=text-align:left>bootstrap.webservices.channel_connect_timeout</td><td style=text-align:left>Channel connect timeout (ms).</td></tr><tr><td style=text-align:left>bootstrap.webservices.channel_keep_alive</td><td style=text-align:left>Socket keep alive.</td></tr><tr><td style=text-align:left>bootstrap.webservices.channel_nodelay</td><td style=text-align:left>Server socket TCP_NODELAY.</td></tr><tr><td style=text-align:left>bootstrap.webservices.channel_reuse_address</td><td style=text-align:left>Socket reuse address.</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_http_chunk_buffer_max</td><td style=text-align:left>Server http chunk max.</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_http_pool_acquire_timeout</td><td style=text-align:left>Client http pool acquire timeout</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_internal_connect_timeout_millis</td><td style=text-align:left>Client connection timeout (ms)</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_internal_hmac_signature_enabled</td><td style=text-align:left>Client HMAC signature version 4 enabled</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_internal_timeout_secs</td><td style=text-align:left>Client idle timeout (secs).</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_message_log_whitelist</td><td style=text-align:left>Client message patterns to match for logging</td></tr><tr><td style=text-align:left>bootstrap.webservices.client_pool_max_threads</td><td style=text-align:left>Server worker thread pool max.</td></tr><tr><td style=text-align:left>bootstrap.webservices.clock_skew_sec</td><td style=text-align:left>A max clock skew value (in seconds) between client and server accepted when validating timestamps in Query/REST protocol.</td></tr><tr><td style=text-align:left>bootstrap.webservices.cluster_connect_timeout_millis</td><td style=text-align:left>Cluster connect timeout (ms).</td></tr><tr><td style=text-align:left>bootstrap.webservices.default_aws_sns_uri_scheme</td><td style=text-align:left>Default scheme for AWS_SNS_URL.</td></tr><tr><td style=text-align:left>bootstrap.webservices.default_ec2_uri_scheme</td><td style=text-align:left>Default scheme for EC2_URL.</td></tr><tr><td style=text-align:left>bootstrap.webservices.default_euare_uri_scheme</td><td style=text-align:left>Default scheme for EUARE_URL.</td></tr><tr><td style=text-align:left>bootstrap.webservices.default_https_enabled</td><td style=text-align:left>Default scheme prefix.</td></tr><tr><td style=text-align:left>bootstrap.webservices.default_s3_uri_scheme</td><td style=text-align:left>Default scheme for S3_URL.</td></tr><tr><td style=text-align:left>bootstrap.webservices.disabled_soap_api_components</td><td style=text-align:left>List of services with disabled SOAP APIs.</td></tr><tr><td style=text-align:left>bootstrap.webservices.http_max_chunk_bytes</td><td style=text-align:left>Maximum HTTP chunk size (bytes).</td></tr><tr><td style=text-align:left>bootstrap.webservices.http_max_header_bytes</td><td style=text-align:left>Maximum HTTP headers size (bytes).</td></tr><tr><td style=text-align:left>bootstrap.webservices.http_max_initial_line_bytes</td><td style=text-align:left>Maximum HTTP initial line size (bytes).</td></tr><tr><td style=text-align:left>bootstrap.webservices.http_max_requests_per_connection</td><td style=text-align:left>Maximum HTTP requests per persistent connection</td></tr><tr><td style=text-align:left>bootstrap.webservices.http_server_header</td><td style=text-align:left>HTTP server header returned for responses. If set to &ldquo;default&rdquo;, the standard version header is returned, e.g. Eucalyptus/4.3.1. If set to another value, that value is returned in the header, except for an empty value, which results in no server header being returned.Default: default</td></tr><tr><td style=text-align:left>bootstrap.webservices.listener_address_match</td><td style=text-align:left>CIDRs matching addresses to bind on Default interface is always bound regardless.</td></tr><tr><td style=text-align:left>bootstrap.webservices.log_requests</td><td style=text-align:left>Enable request logging.</td></tr><tr><td style=text-align:left>bootstrap.webservices.oob_internal_operations</td><td style=text-align:left>Execute internal service operations out of band from the normal service bus.</td></tr><tr><td style=text-align:left>bootstrap.webservices.pipeline_enable_query_decompress</td><td style=text-align:left>Enable Query Pipeline http request decompression</td></tr><tr><td style=text-align:left>bootstrap.webservices.pipeline_idle_timeout_seconds</td><td style=text-align:left>Server socket idle time-out.</td></tr><tr><td style=text-align:left>bootstrap.webservices.pipeline_max_query_request_size</td><td style=text-align:left>Maximum Query Pipeline http chunk size (bytes).</td></tr><tr><td style=text-align:left>bootstrap.webservices.port</td><td style=text-align:left>Port to bind Port 8773 is always bound regardless.</td></tr><tr><td style=text-align:left>bootstrap.webservices.replay_skew_window_sec</td><td style=text-align:left>Time interval duration (in seconds) during which duplicate signatures will be accepted to accommodate collisions.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_boss_pool_max_mem_per_conn</td><td style=text-align:left>Server max selector memory per connection.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_boss_pool_max_threads</td><td style=text-align:left>Server selector thread pool max.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_boss_pool_timeout_millis</td><td style=text-align:left>Service socket select timeout (ms).</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_boss_pool_total_mem</td><td style=text-align:left>Server worker thread pool max.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_channel_nodelay</td><td style=text-align:left>Server socket TCP_NODELAY.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_channel_reuse_address</td><td style=text-align:left>Server socket reuse address.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_pool_max_mem_per_conn</td><td style=text-align:left>Server max worker memory per connection.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_pool_max_threads</td><td style=text-align:left>Server worker thread pool max.</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_pool_timeout_millis</td><td style=text-align:left>Service socket select timeout (ms).</td></tr><tr><td style=text-align:left>bootstrap.webservices.server_pool_total_mem</td><td style=text-align:left>Server max worker memory total.</td></tr><tr><td style=text-align:left>bootstrap.webservices.statistics</td><td style=text-align:left>Record and report service times.</td></tr><tr><td style=text-align:left>bootstrap.webservices.unknown_parameter_handling</td><td style=text-align:left>Request unknown parameter handling (default</td></tr><tr><td style=text-align:left>bootstrap.webservices.use_dns_delegation</td><td style=text-align:left>Use DNS delegation.</td></tr><tr><td style=text-align:left>bootstrap.webservices.use_instance_dns</td><td style=text-align:left>Use DNS names for instances.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.client_https_enabled</td><td style=text-align:left>Client HTTPS enabled</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.client_https_server_cert_verify</td><td style=text-align:left>Client HTTPS verify server certificate enabled</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.client_ssl_ciphers</td><td style=text-align:left>Client HTTPS ciphers for internal use</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.client_ssl_protocols</td><td style=text-align:left>Client HTTPS protocols for internal use</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.server_alias</td><td style=text-align:left>Alias of the certificate entry in euca.p12 to use for SSL for webservices.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.server_password</td><td style=text-align:left>Password of the private key corresponding to the specified certificate for SSL for web services.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.server_ssl_ciphers</td><td style=text-align:left>SSL ciphers for web services.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.server_ssl_protocols</td><td style=text-align:left>SSL protocols for web services.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.user_ssl_ciphers</td><td style=text-align:left>SSL ciphers for external use.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.user_ssl_default_cas</td><td style=text-align:left>Use default CAs with SSL for external use.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.user_ssl_enable_hostname_verification</td><td style=text-align:left>SSL hostname validation for external use.</td></tr><tr><td style=text-align:left>bootstrap.webservices.ssl.user_ssl_protocols</td><td style=text-align:left>SSL protocols for external use.</td></tr><tr><td style=text-align:left>cloud.db_check_poll_time</td><td style=text-align:left>Poll time (ms) for db connection check</td></tr><tr><td style=text-align:left>cloud.db_check_threshold</td><td style=text-align:left>Threshold (number of connections or %) for db connection check</td></tr><tr><td style=text-align:left>cloud.euca_log_level</td><td style=text-align:left>Log level for dynamic override.</td></tr><tr><td style=text-align:left>cloud.identifier_canonicalizer</td><td style=text-align:left>Name of the canonicalizer for resource identifiers.</td></tr><tr><td style=text-align:left>cloud.log_file_disk_check_poll_time</td><td style=text-align:left>Poll time (ms) for log file disk check</td></tr><tr><td style=text-align:left>cloud.log_file_disk_check_threshold</td><td style=text-align:left>Threshold (bytes or %) for log file disk check</td></tr><tr><td style=text-align:left>cloud.memory_check_poll_time</td><td style=text-align:left>Poll time (ms) for memory check</td></tr><tr><td style=text-align:left>cloud.memory_check_ratio</td><td style=text-align:left>Ratio (of post-garbage collected old-gen memory) for memory check</td></tr><tr><td style=text-align:left>cloud.trigger_fault</td><td style=text-align:left>Fault id last used to trigger test</td></tr><tr><td style=text-align:left>cloud.cluster.disabledinterval</td><td style=text-align:left>The time period between service state checks for a Cluster Controller which is DISABLED.</td></tr><tr><td style=text-align:left>cloud.cluster.enabledinterval</td><td style=text-align:left>The time period between service state checks for a Cluster Controller which is ENABLED.</td></tr><tr><td style=text-align:left>cloud.cluster.notreadyinterval</td><td style=text-align:left>The time period between service state checks for a Cluster Controller which is NOTREADY.</td></tr><tr><td style=text-align:left>cloud.cluster.pendinginterval</td><td style=text-align:left>The time period between service state checks for a Cluster Controller which is PENDING.</td></tr><tr><td style=text-align:left>cloud.cluster.requestworkers</td><td style=text-align:left>The number of concurrent requests which will be sent to a single Cluster Controller.</td></tr><tr><td style=text-align:left>cloud.cluster.startupsyncretries</td><td style=text-align:left>The number of times a request will be retried while bootstrapping a Cluster Controller.</td></tr><tr><td style=text-align:left>cloud.images.cleanupperiod</td><td style=text-align:left>The period between runs for clean up of deregistered images.</td></tr><tr><td style=text-align:left>cloud.images.defaultvisibility</td><td style=text-align:left>The default value used to determine whether or not images are marked &lsquo;public&rsquo; when first registered.</td></tr><tr><td style=text-align:left>cloud.images.maximagesizegb</td><td style=text-align:left>The maximum registerable image size in GB</td></tr><tr><td style=text-align:left>cloud.images.maxmanifestsizebytes</td><td style=text-align:left>The maximum allowed image manifest size in bytes</td></tr><tr><td style=text-align:left>cloud.long_identifier_prefixes</td><td style=text-align:left>List of resource identifier prefixes for long identifiers or * for all</td></tr><tr><td style=text-align:left>cloud.monitor.default_poll_interval_mins</td><td style=text-align:left>How often the CLC requests data from the CC. Default value is 5 minutes.</td></tr><tr><td style=text-align:left>cloud.monitor.history_size</td><td style=text-align:left>How many data value samples are sent from the CC to the CLC. The default value is 5.</td></tr><tr><td style=text-align:left>cloud.network.address_pending_timeout</td><td style=text-align:left>Minutes before a pending system public address allocation times out and is released. Default: 35 minutes.</td></tr><tr><td style=text-align:left>cloud.network.ec2_classic_additional_protocols_allowed</td><td style=text-align:left>Comma delimited list of protocol numbers supported in EDGE mode for security group rules beyond the EC2-Classic defaults (TCP,UDP,ICMP). Only valid IANA protocol numbers are accepted. Default: None<a href></a></td></tr><tr><td style=text-align:left>cloud.network.max_broadcast_apply</td><td style=text-align:left>Maximum time to apply network information. Default: 120 seconds.</td></tr><tr><td style=text-align:left>cloud.network.min_broadcast_interval</td><td style=text-align:left>Minimum interval between broadcasts of network information. Default: 5 seconds.</td></tr><tr><td style=text-align:left>cloud.network.network_index_pending_timeout</td><td style=text-align:left>Minutes before a pending index allocation times out and is released. Default: 35 minutes.</td></tr><tr><td style=text-align:left>cloud.short_identifier_prefixes</td><td style=text-align:left>List of resource identifier prefixes for short identifiers or * for all</td></tr><tr><td style=text-align:left>cloud.vmstate.buried_time</td><td style=text-align:left>Amount of time (in minutes) to retain unreported terminated instance data.</td></tr><tr><td style=text-align:left>cloud.vmstate.ebs_root_device_name</td><td style=text-align:left>Name for root block device mapping</td></tr><tr><td style=text-align:left>cloud.vmstate.ebs_volume_creation_timeout</td><td style=text-align:left>Amount of time (in minutes) before a EBS volume backing the instance is created</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_private_prefix</td><td style=text-align:left>Private name prefix for instance DNS</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_public_prefix</td><td style=text-align:left>Public name prefix for instance DNS</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_reachability_timeout</td><td style=text-align:left>Amount of time (in minutes) before a VM which is not reported by a cluster will fail a reachability test.</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_subdomain</td><td style=text-align:left>Subdomain to use for instance DNS.</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_timeout</td><td style=text-align:left>Amount of time (default unit minutes) before a previously running instance which is not reported will be marked as terminated.</td></tr><tr><td style=text-align:left>cloud.vmstate.instance_touch_interval</td><td style=text-align:left>Amount of time (in minutes) between updates for a running instance.</td></tr><tr><td style=text-align:left>cloud.vmstate.mac_prefix</td><td style=text-align:left>Default prefix to use for instance / network interface MAC addresses.</td></tr><tr><td style=text-align:left>cloud.vmstate.max_state_threads</td><td style=text-align:left>Maximum number of threads the system will use to service blocking state changes.</td></tr><tr><td style=text-align:left>cloud.vmstate.migration_refresh_time</td><td style=text-align:left>Maximum amount of time (in seconds) that migration state will take to propagate state changes (e.g., to tags).</td></tr><tr><td style=text-align:left>cloud.vmstate.pending_time</td><td style=text-align:left>Amount of time (in minutes) before a pending instance will be terminated.</td></tr><tr><td style=text-align:left>cloud.vmstate.shut_down_time</td><td style=text-align:left>Amount of time (in minutes) before a VM which is not reported by a cluster will be marked as terminated.</td></tr><tr><td style=text-align:left>cloud.vmstate.stopping_time</td><td style=text-align:left>Amount of time (in minutes) before a stopping VM which is not reported by a cluster will be marked as terminated.</td></tr><tr><td style=text-align:left>cloud.vmstate.terminated_time</td><td style=text-align:left>Amount of time (in minutes) that a terminated VM will continue to be reported.</td></tr><tr><td style=text-align:left>cloud.vmstate.tx_retries</td><td style=text-align:left>Number of times to retry transactions in the face of potential concurrent update conflicts.</td></tr><tr><td style=text-align:left>cloud.vmstate.unknown_instance_handlers</td><td style=text-align:left>Comma separated list of handlers to use for unknown instances (&lsquo;restore&rsquo;, &lsquo;restore-failed&rsquo;, &rsquo;terminate&rsquo;, &rsquo;terminate-done&rsquo;)</td></tr><tr><td style=text-align:left>cloud.vmstate.user_data_max_size_kb</td><td style=text-align:left>Max length (in KB) that the user data file can be for an instance (after base 64 decoding)</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_initial_report_timeout</td><td style=text-align:left>Amount of time (in seconds) since completion of the creating run instance operation that the new instance is treated as unreported if not&mldr; reported.</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_metadata_generated_cache</td><td style=text-align:left>Instance metadata generated data cache configuration. The cache is used for IAM metadata (../latest/meta-data/iam/) and instance identity (../latest/dynamic/instance-identity/).Default: maximumSize=1000, expireAfterWrite=5m</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_metadata_instance_cache</td><td style=text-align:left>Instance metadata cache configuration.</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_metadata_request_cache</td><td style=text-align:left>Instance metadata instance resolution cache configuration.</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_metadata_user_data_cache</td><td style=text-align:left>Instance metadata user data cache configuration.</td></tr><tr><td style=text-align:left>cloud.vmstate.vm_state_settle_time</td><td style=text-align:left>Amount of time (in seconds) to let instance state settle after a transition to either stopping or shutting-down.</td></tr><tr><td style=text-align:left>cloud.vmstate.volatile_state_interval_sec</td><td style=text-align:left>Period (in seconds) between state updates for actively changing state.</td></tr><tr><td style=text-align:left>cloud.vmstate.volatile_state_timeout_sec</td><td style=text-align:left>Timeout (in seconds) before a requested instance terminate will be repeated.</td></tr><tr><td style=text-align:left>cloud.vmtypes.default_type_name</td><td style=text-align:left>Default type used when no instance type is specified for run instances.</td></tr><tr><td style=text-align:left>cloud.vmtypes.format_ephemeral_storage</td><td style=text-align:left>Format first ephemeral disk by defaut with ext3</td></tr><tr><td style=text-align:left>cloud.vmtypes.merge_ephemeral_storage</td><td style=text-align:left>Merge non-root ephemeral disks</td></tr><tr><td style=text-align:left>cloud.volumes.deleted_time</td><td style=text-align:left>Amount of time (in minutes) that a deleted volume will continue to be reported</td></tr><tr><td style=text-align:left>cloud.vpc.defaultvpc</td><td style=text-align:left>Enable default VPC.</td></tr><tr><td style=text-align:left>cloud.vpc.defaultvpccidr</td><td style=text-align:left>CIDR to use when creating default VPCs</td></tr><tr><td style=text-align:left>cloud.vpc.networkaclspervpc</td><td style=text-align:left>Maximum number of network ACLs for each VPC.</td></tr><tr><td style=text-align:left>cloud.vpc.reservedcidrs</td><td style=text-align:left>Comma separated list of reserved CIDRs</td></tr><tr><td style=text-align:left>cloud.vpc.routespertable</td><td style=text-align:left>Maximum number of routes for each route table.</td></tr><tr><td style=text-align:left>cloud.vpc.routetablespervpc</td><td style=text-align:left>Maximum number of route tables for each VPC.</td></tr><tr><td style=text-align:left>cloud.vpc.rulespernetworkacl</td><td style=text-align:left>Maximum number of rules per direction for each network ACL.</td></tr><tr><td style=text-align:left>cloud.vpc.rulespersecuritygroup</td><td style=text-align:left>Maximum number of associated security groups for each network interface .</td></tr><tr><td style=text-align:left>cloud.vpc.securitygroupspernetworkinterface</td><td style=text-align:left>Maximum number of associated security groups for each network interface .</td></tr><tr><td style=text-align:left>cloud.vpc.securitygroupspervpc</td><td style=text-align:left>Maximum number of security groups for each VPC.</td></tr><tr><td style=text-align:left>cloud.vpc.subnetspervpc</td><td style=text-align:left>Maximum number of subnets for each VPC.</td></tr><tr><td style=text-align:left>cloudformation.autoscaling_group_deleted_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for an autoscaling group to be deleted after deletion)</td></tr><tr><td style=text-align:left>cloudformation.autoscaling_group_zero_instances_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for an autoscaling group to have zero instances during delete</td></tr><tr><td style=text-align:left>cloudformation.cfn_instance_auth_cache</td><td style=text-align:left>CloudFormation instance credential authentication cache</td></tr><tr><td style=text-align:left>cloudformation.instance_attach_volume_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for an instance to have volumes attached after creation)</td></tr><tr><td style=text-align:left>cloudformation.instance_running_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for an instance to be running after creation)</td></tr><tr><td style=text-align:left>cloudformation.instance_terminated_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for an instance to be terminated after deletion)</td></tr><tr><td style=text-align:left>cloudformation.max_attributes_per_mapping</td><td style=text-align:left>The maximum number of attributes allowed in a mapping in a template</td></tr><tr><td style=text-align:left>cloudformation.max_mappings_per_template</td><td style=text-align:left>The maximum number of mappings allowed in a template</td></tr><tr><td style=text-align:left>cloudformation.max_outputs_per_template</td><td style=text-align:left>The maximum number of outputs allowed in a template</td></tr><tr><td style=text-align:left>cloudformation.max_parameters_per_template</td><td style=text-align:left>The maximum number of outputs allowed in a template</td></tr><tr><td style=text-align:left>cloudformation.max_resources_per_template</td><td style=text-align:left>The maximum number of resources allowed in a template</td></tr><tr><td style=text-align:left>cloudformation.nat_gateway_available_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a nat gateway to be available after create)</td></tr><tr><td style=text-align:left>cloudformation.network_interface_attachment_max_create_or_update_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a network interface to be attached during create or update)</td></tr><tr><td style=text-align:left>cloudformation.network_interface_available_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a network interface to be available after create)</td></tr><tr><td style=text-align:left>cloudformation.network_interface_deleted_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a network interface to be deleted)</td></tr><tr><td style=text-align:left>cloudformation.network_interface_detachment_max_delete_or_update_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a network interface to detach during delete or update)</td></tr><tr><td style=text-align:left>cloudformation.pseudo_param_partition</td><td style=text-align:left>CloudFormation AWS::Partition (default: eucalyptus)</td></tr><tr><td style=text-align:left>cloudformation.pseudo_param_urlsuffix</td><td style=text-align:left>CloudFormation AWS::URLSuffix (default: dns domain)</td></tr><tr><td style=text-align:left>cloudformation.region</td><td style=text-align:left>The value of AWS::Region and value in CloudFormation ARNs for Region</td></tr><tr><td style=text-align:left>cloudformation.request_template_body_max_length_bytes</td><td style=text-align:left>The maximum number of bytes in a request-embedded template</td></tr><tr><td style=text-align:left>cloudformation.request_template_url_max_content_length_bytes</td><td style=text-align:left>The maximum number of bytes in a template referenced via a URL</td></tr><tr><td style=text-align:left>cloudformation.security_group_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to retry security group deletes (may fail if instances from autoscaling group)</td></tr><tr><td style=text-align:left>cloudformation.subnet_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to retry subnet deletes</td></tr><tr><td style=text-align:left>cloudformation.swf_activity_worker_config</td><td style=text-align:left>JSON configuration for the cloudformation simple workflow activity worker</td></tr><tr><td style=text-align:left>cloudformation.swf_domain</td><td style=text-align:left>The simple workflow service domain for cloudformation</td></tr><tr><td style=text-align:left>cloudformation.swf_tasklist</td><td style=text-align:left>The simple workflow service task list for cloudformation</td></tr><tr><td style=text-align:left>cloudformation.url_domain_whitelist</td><td style=text-align:left>A comma separated white list of domains (other than Eucalyptus S3 URLs) allowed by CloudFormation URL parameters</td></tr><tr><td style=text-align:left>cloudformation.volume_attachment_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a volume to be attached during create)</td></tr><tr><td style=text-align:left>cloudformation.volume_available_max_create_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a volume to be available after create)</td></tr><tr><td style=text-align:left>cloudformation.volume_deleted_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a volume to be deleted)</td></tr><tr><td style=text-align:left>cloudformation.volume_detachment_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a volume to detach during delete)</td></tr><tr><td style=text-align:left>cloudformation.volume_snapshot_complete_max_delete_retry_secs</td><td style=text-align:left>The amount of time (in seconds) to wait for a snapshot to be complete (if specified as the deletion policy) before a volume is deleted)</td></tr><tr><td style=text-align:left>cloudformation.wait_condition_bucket_prefix</td><td style=text-align:left>The prefix of the bucket used for wait condition handles</td></tr><tr><td style=text-align:left>cloudwatch.disable_cloudwatch_service</td><td style=text-align:left>Set this to true to stop cloud watch alarm evaluation and new alarm/metric data entry</td></tr><tr><td style=text-align:left>dns.dns_listener_address_match</td><td style=text-align:left>Additional address patterns to listen on for DNS requests.</td></tr><tr><td style=text-align:left>dns.enabled</td><td style=text-align:left>Enable pluggable DNS resolvers. This must be &rsquo;true&rsquo; for any pluggable resolver to work. Also, each resolver may need to be separately enabled.</td></tr><tr><td style=text-align:left>dns.search</td><td style=text-align:left>Comma separated list of domains to search, OS settings used if none specified (a change requires restart).</td></tr><tr><td style=text-align:left>dns.server</td><td style=text-align:left>Comma separated list of name servers; OS settings used if none specified (change requires restart)</td></tr><tr><td style=text-align:left>dns.server_pool_max_threads</td><td style=text-align:left>Server worker thread pool max.</td></tr><tr><td style=text-align:left>dns.server_pool_max_threads</td><td style=text-align:left>Server worker thread pool max.</td></tr><tr><td style=text-align:left>dns.instancedata.enabled</td><td style=text-align:left>Enable the instance-data resolver. dns.enabled must also be &rsquo;true&rsquo;.</td></tr><tr><td style=text-align:left>dns.negative_ttl</td><td style=text-align:left>Time-to-live for negative caching on authoritative records. Since version 5.1.</td></tr><tr><td style=text-align:left>dns.ns.enabled</td><td style=text-align:left>Enable the NS resolver. dns.enabled must also be &rsquo;true&rsquo;.</td></tr><tr><td style=text-align:left>dns.recursive.enabled</td><td style=text-align:left>Enable the recursive DNS resolver. dns.enabled must also be &rsquo;true&rsquo;.</td></tr><tr><td style=text-align:left>dns.services.enabled</td><td style=text-align:left>Enable the service topology resolver. dns.enabled must also be &rsquo;true&rsquo;.</td></tr><tr><td style=text-align:left>dns.split_horizon.enabled</td><td style=text-align:left>Enable the split-horizon DNS resolution for internal instance public DNS name queries. dns.enabled must also be &rsquo;true'.</td></tr><tr><td style=text-align:left>dns.spoof_regions.enabled</td><td style=text-align:left>Enable the spoofing resolver which allows for AWS DNS name emulation for instances.</td></tr><tr><td style=text-align:left>dns.spoof_regions.region_name</td><td style=text-align:left>Internal region name. If set, the region name to expect as the second label in the DNS name. For example, to treat your Eucalyptus install like a region named &rsquo;eucalyptus&rsquo;, set this value to eucalyptus. Then, e.g., autoscaling.eucalyptus.amazonaws.com will resolve to the service address when using this DNS server. The specified name creates a pseudo-region with DNS names like ec2.pseudo-region.amazonaws.com will resolve to Eucalyptus endpoints from inside of instances. Here ec2 is any service name supported by Eucalyptus. Those that are not supported will continue to resolve through AWS&rsquo;s DNS.</td></tr><tr><td style=text-align:left>dns.spoof_regions.spoof_aws_default_regions</td><td style=text-align:left>Enable spoofing of the default AWS DNS names, e.g., ec2.amazonaws.com would resolve to the ENABLED Cloud Controller. Here ec2 is any service name supported by Eucalyptus. Those that are not supported will continue to resolve through AWS&rsquo;s DNS.</td></tr><tr><td style=text-align:left>dns.spoof_regions.spoof_aws_regions</td><td style=text-align:left>Enable spoofing for the normal AWS regions, e.g., ec2.us-east-1.amazonaws.com would resolve to the ENABLED Cloud Controller. Here ec2 is any service name supported by Eucalyptus. Those that are not supported will continue to resolve through AWS&rsquo;s DNS.</td></tr><tr><td style=text-align:left>dns.tcp.timeout_seconds</td><td style=text-align:left>Variable controlling tcp handler timeout in seconds.</td></tr><tr><td style=text-align:left>dns.ttl</td><td style=text-align:left>Default time-to-live for authoritative records. Since version 5.1.</td></tr><tr><td style=text-align:left>dns.dns_listener_port</td><td style=text-align:left>Port number to listen on for DNS requests</td></tr><tr><td style=text-align:left>objectstorage.bucket_creation_wait_interval_seconds</td><td style=text-align:left>Interval, in seconds, during which buckets in creating-state are valid. After this interval, the operation is assumed failed.</td></tr><tr><td style=text-align:left>objectstorage.bucket_naming_restrictions</td><td style=text-align:left>The S3 bucket naming restrictions to enforce. Values are &lsquo;dns-compliant&rsquo; or &rsquo;extended&rsquo;. Default is &rsquo;extended&rsquo;. dns_compliant is non-US region S3 names, extended is for US-Standard Region naming. See  <a href=http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html.%5B%5D()>http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html.[]()</a></td></tr><tr><td style=text-align:left>objectstorage.bucket_reserved_cnames</td><td style=text-align:left>List of host names that may not be used as bucket cnames</td></tr><tr><td style=text-align:left>objectstorage.cleanup_task_interval_seconds</td><td style=text-align:left>Interval, in seconds, at which cleanup tasks are initiated for removing old/stale objects.</td></tr><tr><td style=text-align:left>objectstorage.dogetputoncopyfail</td><td style=text-align:left>Should provider client attempt a GET / PUT when backend does not support Copy operation</td></tr><tr><td style=text-align:left>objectstorage.failed_put_timeout_hrs</td><td style=text-align:left>Number of hours to wait for object PUT operations to be allowed to complete before cleanup.</td></tr><tr><td style=text-align:left>objectstorage.max_buckets_per_account</td><td style=text-align:left>Maximum number of buckets per account</td></tr><tr><td style=text-align:left>objectstorage.max_tags</td><td style=text-align:left>Maximum number of user defined tags for a bucket</td></tr><tr><td style=text-align:left>objectstorage.max_total_reporting_capacity_gb</td><td style=text-align:left>Total ObjectStorage storage capacity for Objects solely for reporting usage percentage. Not a size restriction. No enforcement of this value</td></tr><tr><td style=text-align:left>objectstorage.providerclient</td><td style=text-align:left>Object Storage Provider client to use for backend</td></tr><tr><td style=text-align:left>objectstorage.queue_size</td><td style=text-align:left>Channel buffer queue size for uploads</td></tr><tr><td style=text-align:left>objectstorage.queue_timeout</td><td style=text-align:left>Channel buffer queue timeout (in seconds)</td></tr><tr><td style=text-align:left>objectstorage.s3client.buffer_size</td><td style=text-align:left>Internal S3 client buffer size</td></tr><tr><td style=text-align:left>objectstorage.s3client.connection_timeout_ms</td><td style=text-align:left>Internal S3 client connection timeout in ms</td></tr><tr><td style=text-align:left>objectstorage.s3client.max_connections</td><td style=text-align:left>Internal S3 client maximum connections</td></tr><tr><td style=text-align:left>objectstorage.s3client.max_error_retries</td><td style=text-align:left>Internal S3 client maximum retries on error</td></tr><tr><td style=text-align:left>objectstorage.s3client.socket_read_timeout_ms</td><td style=text-align:left>Internal S3 client socket read timeout in ms</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3accesskey</td><td style=text-align:left>Local Store S3 Access Key.</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3endpoint</td><td style=text-align:left>External S3 endpoint.</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3secretkey</td><td style=text-align:left>Local Store S3 Secret Key.</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3usebackenddns</td><td style=text-align:left>Use DNS virtual-hosted-style bucket names for communication to service backend.</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3usehttps</td><td style=text-align:left>Use HTTPS for communication to service backend.</td></tr><tr><td style=text-align:left>region.region_enable_ssl</td><td style=text-align:left>Enable SSL (HTTPS) for regions.</td></tr><tr><td style=text-align:left>region.region_name</td><td style=text-align:left>Region name.</td></tr><tr><td style=text-align:left>region.region_ssl_ciphers</td><td style=text-align:left>Ciphers to use for region SSL</td></tr><tr><td style=text-align:left>region.region_ssl_default_cas</td><td style=text-align:left>Use default CAs for region SSL connections.</td></tr><tr><td style=text-align:left>region.region_ssl_protocols</td><td style=text-align:left>Protocols to use for region SSL</td></tr><tr><td style=text-align:left>region.region_ssl_verify_hostnames</td><td style=text-align:left>Verify hostnames for region SSL connections.</td></tr><tr><td style=text-align:left>services.imaging.import_task_expiration_hours</td><td style=text-align:left>expiration hours of import volume/instance tasks</td></tr><tr><td style=text-align:left>services.imaging.import_task_timeout_minutes</td><td style=text-align:left>expiration time in minutes of import tasks</td></tr><tr><td style=text-align:left>services.imaging.worker.availability_zones</td><td style=text-align:left>availability zones for imaging worker</td></tr><tr><td style=text-align:left>services.imaging.worker.configured</td><td style=text-align:left>Prepare imaging service so a worker can be launched. If something goes south with the service there is a big chance that setting it to false and back to true would solve issues.</td></tr><tr><td style=text-align:left>services.imaging.worker.expiration_days</td><td style=text-align:left>the days after which imaging work VMs expire</td></tr><tr><td style=text-align:left>services.imaging.worker.healthcheck</td><td style=text-align:left>enabling imaging worker health check</td></tr><tr><td style=text-align:left>services.imaging.worker.image</td><td style=text-align:left>EMI containing imaging worker</td></tr><tr><td style=text-align:left>services.imaging.worker.init_script</td><td style=text-align:left>bash script that will be executed before service configuration and start up</td></tr><tr><td style=text-align:left>services.imaging.worker.instance_type</td><td style=text-align:left>instance type for imaging worker</td></tr><tr><td style=text-align:left>services.imaging.worker.keyname</td><td style=text-align:left>keyname to use when debugging imaging worker</td></tr><tr><td style=text-align:left>services.imaging.worker.log_server</td><td style=text-align:left>address/ip of the server that collects logs from imaging wokrers</td></tr><tr><td style=text-align:left>services.imaging.worker.log_server_port</td><td style=text-align:left>UDP port that log server is listening to</td></tr><tr><td style=text-align:left>services.imaging.worker.log_server_port</td><td style=text-align:left>UDP port that log server is listening to</td></tr><tr><td style=text-align:left>services.imaging.worker.ntp_server</td><td style=text-align:left>address of the NTP server used by imaging worker</td></tr><tr><td style=text-align:left>services.loadbalancing.dns_resolver_enabled</td><td style=text-align:left>Enable the load balancing DNS resolver. dns.enabled must also be &rsquo;true&rsquo;.</td></tr><tr><td style=text-align:left>services.loadbalancing.dns_subdomain</td><td style=text-align:left>loadbalancer dns subdomain</td></tr><tr><td style=text-align:left>services.loadbalancing.dns_ttl</td><td style=text-align:left>loadbalancer dns ttl value</td></tr><tr><td style=text-align:left>services.loadbalancing.max_tags</td><td style=text-align:left>Maximum number of user defined tags for a load balancer</td></tr><tr><td style=text-align:left>services.loadbalancing.restricted_ports</td><td style=text-align:left>The ports restricted for use as a loadbalancer port. Format should be port(, port) or port-port</td></tr><tr><td style=text-align:left>services.loadbalancing.vm_per_zone</td><td style=text-align:left>number of VMs per loadbalancer zone</td></tr><tr><td style=text-align:left>services.loadbalancing.vpc_cidrs</td><td style=text-align:left>Comma separated list of CIDRs for use with ELB VPCs</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.app_cookie_duration</td><td style=text-align:left>duration of app-controlled cookie to be kept in-memory (hours)</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.expiration_days</td><td style=text-align:left>the days after which the loadbalancer VMs expire</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.image</td><td style=text-align:left>EMI containing haproxy and the controller</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.init_script</td><td style=text-align:left>bash script that will be executed before service configuration and start up</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.instance_type</td><td style=text-align:left>instance type for loadbalancer instances</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.keyname</td><td style=text-align:left>keyname to use when debugging loadbalancer VMs</td></tr><tr><td style=text-align:left>services.loadbalancing.worker.ntp_server</td><td style=text-align:left>the address of the NTP server used by loadbalancer VMs</td></tr><tr><td style=text-align:left>services.simpleworkflow.activitytypesperdomain</td><td style=text-align:left>Maximum number of activity types for each domain.</td></tr><tr><td style=text-align:left>services.simpleworkflow.deprecatedactivitytyperetentionduration</td><td style=text-align:left>Deprecated activity type retention time.</td></tr><tr><td style=text-align:left>services.simpleworkflow.deprecateddomainretentionduration</td><td style=text-align:left>Deprecated domain minimum retention time.</td></tr><tr><td style=text-align:left>services.simpleworkflow.deprecatedworkflowtyperetentionduration</td><td style=text-align:left>Deprecated workflow type minimum retention time.</td></tr><tr><td style=text-align:left>services.simpleworkflow.openactivitytasksperworkflowexecution</td><td style=text-align:left>Maximum number of open activity tasks for each workflow execution.</td></tr><tr><td style=text-align:left>services.simpleworkflow.opentimersperworkflowexecution</td><td style=text-align:left>Maximum number of open timers for each workflow execution.</td></tr><tr><td style=text-align:left>services.simpleworkflow.openworkflowexecutionsperdomain</td><td style=text-align:left>Maximum number of open workflow executions for each domain.</td></tr><tr><td style=text-align:left>services.simpleworkflow.systemonly</td><td style=text-align:left>Service available for internal/administrator use only.</td></tr><tr><td style=text-align:left>services.simpleworkflow.workflowexecutionduration</td><td style=text-align:left>Maximum workflow execution time.</td></tr><tr><td style=text-align:left>services.simpleworkflow.workflowexecutionhistorysize</td><td style=text-align:left>Maximum number of events per workflow execution.</td></tr><tr><td style=text-align:left>services.simpleworkflow.workflowexecutionretentionduration</td><td style=text-align:left>Maximum workflow execution history retention time.</td></tr><tr><td style=text-align:left>services.simpleworkflow.workflowtypesperdomain</td><td style=text-align:left>Maximum number of workflow types for each domain.</td></tr><tr><td style=text-align:left>stats.config_update_check_interval_seconds</td><td style=text-align:left>Interval, in seconds, at which the sensor configuration is checked for changes</td></tr><tr><td style=text-align:left>stats.enable_stats</td><td style=text-align:left>Enable Eucalyptus internal monitoring stats</td></tr><tr><td style=text-align:left>stats.event_emitter</td><td style=text-align:left>Internal stats emitter FQ classname used to send metrics to monitoring system</td></tr><tr><td style=text-align:left>stats.file_system_emitter.stats_data_permissions</td><td style=text-align:left>group permissions to place on stats data files in string form. eg. rwxr-x&ndash;x</td></tr><tr><td style=text-align:left>stats.file_system_emitter.stats_group_name</td><td style=text-align:left>group name that owns stats data files</td></tr><tr><td style=text-align:left>storage.global_total_snapshot_size_limit_gb</td><td style=text-align:left>Maximum total snapshot capacity (GB)</td></tr><tr><td style=text-align:left>system.dns.dnsdomain</td><td style=text-align:left>Domain name to use for DNS.</td></tr><tr><td style=text-align:left>system.dns.nameserver</td><td style=text-align:left>Nameserver hostname.</td></tr><tr><td style=text-align:left>system.dns.nameserveraddress</td><td style=text-align:left>Nameserver IP address.</td></tr><tr><td style=text-align:left>system.dns.nameserveraddress</td><td style=text-align:left>Nameserver IP address.</td></tr><tr><td style=text-align:left>system.dns.registrationid</td><td style=text-align:left>Unique ID of this cloud installation.</td></tr><tr><td style=text-align:left>system.exec.io_chunk_size</td><td style=text-align:left>Size of IO chunks for streaming IO</td></tr><tr><td style=text-align:left>system.exec.max_restricted_concurrent_ops</td><td style=text-align:left>Maximum number of concurrent processes which match any of the patterns in system.exec.restricted_concurrent_ops.</td></tr><tr><td style=text-align:left>system.exec.restricted_concurrent_ops</td><td style=text-align:left>Comma-separated list of commands which are restricted by system.exec.max_restricted_concurrent_ops.</td></tr><tr><td style=text-align:left>tagging.max_tags_per_resource</td><td style=text-align:left>The maximum number of tags per resource for each account</td></tr><tr><td style=text-align:left>tokens.disabledactions</td><td style=text-align:left>Actions to disable</td></tr><tr><td style=text-align:left>tokens.enabledactions</td><td style=text-align:left>Actions to enable (ignored if empty)</td></tr><tr><td style=text-align:left>tokens.rolearnaliaswhitelist</td><td style=text-align:left>Permitted account aliases for role Amazon Resource Names (ARNs). Value is a list, for example: eucalyptus,aws,dev*,prod* in the case where multiple aliases are permitted. Default: eucalyptus</td></tr><tr><td style=text-align:left>tokens.webidentityoidcdiscoverycache</td><td style=text-align:left>Cache settings for discovered OpenID Connect metadata: provider configuration and keys. Works with tokens.webidentityoidcdiscoveryrefresh. Default: maximumSize=20, expireAfterWrite=15m</td></tr><tr><td style=text-align:left>tokens.webidentityoidcdiscoveryrefresh</td><td style=text-align:left>OpenID Connect discovery cache refresh expiry. Controls the time in seconds between checks for updated OIDC metadata. Works with tokens.webidentityoidcdiscoverycache. Default: 60</td></tr><tr><td style=text-align:left>tokens.webidentitysignaturealgorithmwhitelist</td><td style=text-align:left>List of JSON Web Signature algorithms to allow in web identity tokens. The algorithm whitelist can be used to permit use of these signature algorithms: RS256, RS384, RS512, PS256, PS384, PS512. Default: RS512</td></tr><tr><td style=text-align:left>tokens.webidentitytokenskew</td><td style=text-align:left>A clock skew value in seconds. The Web identity token expiry / not before validation is allowed within the configured skew. Default: 60</td></tr><tr><td style=text-align:left>walrusbackend.storagedir</td><td style=text-align:left>Path to buckets storage</td></tr><tr><td style=text-align:left>ZONE.storage.blockstoragemanager</td><td style=text-align:left>EBS Block Storage Manager to use for backend</td></tr><tr><td style=text-align:left>ZONE.storage.cephconfigfile</td><td style=text-align:left>Absolute path to Ceph configuration (ceph.conf) file. Default value is &lsquo;/etc/ceph/ceph.conf&rsquo;</td></tr><tr><td style=text-align:left>ZONE.storage.cephkeyringfile</td><td style=text-align:left>Absolute path to Ceph keyring (ceph.client.eucalyptus.keyring) file. Default value is &lsquo;/etc/ceph/ceph.client.eucalyptus.keyring&rsquo;</td></tr><tr><td style=text-align:left>ZONE.storage.cephsnapshotpools</td><td style=text-align:left>Ceph storage pool(s) made available to Eucalyptus for EBS snapshots. Use a comma separated list for configuring multiple pools. Default value is &lsquo;rbd&rsquo;</td></tr><tr><td style=text-align:left>ZONE.storage.cephuser</td><td style=text-align:left>Ceph username employed by Eucalyptus operations. Default value is &rsquo;eucalyptus'</td></tr><tr><td style=text-align:left>ZONE.storage.cephvolumepools</td><td style=text-align:left>Ceph storage pool(s) made available to Eucalyptus for EBS volumes. Use a comma separated list for configuring multiple pools. Default value is &lsquo;rbd&rsquo;</td></tr><tr><td style=text-align:left>ZONE.storage.chapuser</td><td style=text-align:left>User ID for CHAP authentication</td></tr><tr><td style=text-align:left>ZONE.storage.dasdevice</td><td style=text-align:left>Direct attached storage device location</td></tr><tr><td style=text-align:left>ZONE.storage.maxconcurrentsnapshots</td><td style=text-align:left>Maximum number of snapshots processed on the block storage backend at a given time</td></tr><tr><td style=text-align:left>ZONE.storage.maxconcurrentsnapshottransfers</td><td style=text-align:left>Maximum number of snapshots that can be uploaded to or downloaded from objectstorage gateway at a given time</td></tr><tr><td style=text-align:left>ZONE.storage.maxconcurrentvolumes</td><td style=text-align:left>Maximum number of volumes processed on the block storage backend at a given time</td></tr><tr><td style=text-align:left>ZONE.storage.maxsnapshotdeltas</td><td style=text-align:left>A non-zero integer value enables upload of incremental snapshots when possible. The configured value indicates the SC to create/upload that many snapshot deltas for a given EBS volume before triggering a full upload of the snapshot contents. Between any two consecutive full snapshot uploads for a given EBS volume, there will be at most maxsnapshotdeltas number of incremental snapshot uploads. A value of 0 indicates that a newly created snapshot will always be uploaded in its entirety (that is, no deltas). Snapshot deltas are only used when your backend is Ceph-RBD. ZONE.storage.shouldtransfersnapshots must be set to true to enable snapshot deltas.Default: 0</td></tr><tr><td style=text-align:left>ZONE.storage.maxsnapshotpartsqueuesize</td><td style=text-align:left>Maximum number of snapshot parts per snapshot that can be spooled on the disk</td></tr><tr><td style=text-align:left>ZONE.storage.maxtotalvolumesizeingb</td><td style=text-align:left>Total disk space reserved for volumes</td></tr><tr><td style=text-align:left>ZONE.storage.maxvolumesizeingb</td><td style=text-align:left>Max volume size</td></tr><tr><td style=text-align:left>ZONE.storage.ncpaths</td><td style=text-align:left>iSCSI Paths for NC. Default value is &rsquo;nopath'</td></tr><tr><td style=text-align:left>ZONE.storage.readbuffersizeinmb</td><td style=text-align:left>Buffer size in MB for reading data from snapshot when uploading snapshot to objectstorage gateway</td></tr><tr><td style=text-align:left>ZONE.storage.resourceprefix</td><td style=text-align:left>Prefix for resource name on SAN</td></tr><tr><td style=text-align:left>ZONE.storage.resourcesuffix</td><td style=text-align:left>Suffix for resource name on SAN</td></tr><tr><td style=text-align:left>ZONE.storage.sanhost</td><td style=text-align:left>Hostname for SAN device.</td></tr><tr><td style=text-align:left>ZONE.storage.sanpassword</td><td style=text-align:left>Password for SAN device.</td></tr><tr><td style=text-align:left>ZONE.storage.sanuser</td><td style=text-align:left>Username for SAN device.</td></tr><tr><td style=text-align:left>ZONE.storage.scpaths</td><td style=text-align:left>iSCSI Paths for SC. Default value is &rsquo;nopath'</td></tr><tr><td style=text-align:left>ZONE.storage.shouldtransfersnapshots</td><td style=text-align:left>Enable snapshot transfer to the OSG. Setting it to false will disable storing snapshots (full or delta) in object storage. While a false setting will reduce object storage requirements, it also prevents the ability to use a snapshot from one availability zone to create a volume in another zone. You can still take/use snapshots even when the setting is false, but you can only use a snapshot to create a volume in the same zone. Must be set to true to use snapshot deltas, which are managed by the ZONE.storage.maxsnapshotdeltas property.Default: true</td></tr><tr><td style=text-align:left>ZONE.storage.snapexpiration</td><td style=text-align:left>Time interval in minutes after which Storage Controller metadata for snapshots that have been physically removed from the block storage backend will be deleted</td></tr><tr><td style=text-align:left>ZONE.storage.snapshotpartsizeinmb</td><td style=text-align:left>Snapshot part size in MB for snapshot transfers using multipart upload. Minimum part size is 5MB</td></tr><tr><td style=text-align:left>ZONE.storage.snapshottransfertimeoutinhours</td><td style=text-align:left>Snapshot upload wait time in hours after which the upload will be cancelled</td></tr><tr><td style=text-align:left>ZONE.storage.storeprefix</td><td style=text-align:left>Prefix for ISCSI device</td></tr><tr><td style=text-align:left>ZONE.storage.tid</td><td style=text-align:left>Next Target ID for ISCSI device</td></tr><tr><td style=text-align:left>ZONE.storage.timeoutinmillis</td><td style=text-align:left>Timeout value in milli seconds for storage operations</td></tr><tr><td style=text-align:left>ZONE.storage.volexpiration</td><td style=text-align:left>Time interval in minutes after which Storage Controller metadata for volumes that have been physically removed from the block storage backend will be deleted</td></tr><tr><td style=text-align:left>ZONE.storage.volumesdir</td><td style=text-align:left>Storage volumes directory.</td></tr><tr><td style=text-align:left>ZONE.storage.writebuffersizeinmb</td><td style=text-align:left>Buffer size in MB for writing data to snapshot when downloading snapshot from object storage gateway</td></tr><tr><td style=text-align:left>ZONE.storage.zerofillvolumes</td><td style=text-align:left>Should volumes be zero filled.</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-477d92ba2e18c93ed66a01a0a25b975d>8 - Advanced Storage Configuration</h1><h1 id=advanced-storage-configuration>Advanced Storage Configuration</h1><p>This section covers advanced storage provider configuration options.</p></div><div class=td-content><h1 id=pg-295d8e8f523b64cb65b220c89c352b76>8.1 - OSG Advanced Configuration</h1><p>The following properties are for tuning the behavior of the Object Storage service and Gateways; the defaults are reasonable and changing is not necessary, but they are available for unexpected situations.</p><table><thead><tr><th style=text-align:left>Property</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>objectstorage.bucket_creation_wait_interval_seconds</td><td style=text-align:left>The interval, in seconds, during which buckets in a &lsquo;creating&rsquo; state are valid. After this interval, the operation is assumed failed. Valid values: integer > 0Default: 60</td></tr><tr><td style=text-align:left>objectstorage.bucket_naming_restrictions</td><td style=text-align:left>The S3 bucket naming restrictions to enforce. Use dns_compliant for non-US region S3 names. Use extended for US-Standard Region naming. For more information, see Bucket Restrictions and Limitations in the Amazon S3 documentation. Valid values: dns-compliant</td></tr><tr><td style=text-align:left>objectstorage.cleanuptaskintervalseconds</td><td style=text-align:left>The interval, in seconds, at which background cleanup tasks are run. The background cleanup tasks purge the backend of overwritten objects and clean object history. Valid values: integer > 0Default: 60</td></tr><tr><td style=text-align:left>objectstorage.dogetcopyputonfail</td><td style=text-align:left>When this property is enabled (true), the OSG attempts to perform a manual copy (performing a GET operation on the source, followed by a PUT operation on the destination) whenever the copy operation fails against the upstream provider. Because manual copies can be slow and memory-intensive, this capability is disabled (false) by default. Valid values: true</td></tr><tr><td style=text-align:left>objectstorage.failedputtimeouthours</td><td style=text-align:left>The time, in hours, after which an uncommitted object upload is considered to be failed. This allows cleansing of metadata for objects that were pending upload when an OSG fails or is stopped in the middle of a user operation. This should be kept at least as long as the longest reasonable time to upload a single large object in order to prevent unintentional cleanup of uploads in-progress. The S3 maximum single upload size is 5GB. Valid values: integer > 0Default: 168</td></tr><tr><td style=text-align:left>objectstorage.max_buckets_per_account</td><td style=text-align:left>Maximum number of buckets per account. For more information, see Bucket Restrictions and Limitations in the Amazon S3 documentation. Valid values: integer > 0Default: 100 (the AWS limit)<a href></a></td></tr><tr><td style=text-align:left>objectstorage.max_total_reporting_capacity_gb</td><td style=text-align:left>Total object storage capacity for objects, used solely for reporting usage percentage. Not a size restriction. No enforcement of this value. Valid values: integer > 0Default: 2147483647 (maximum value of an integer)</td></tr><tr><td style=text-align:left>objectstorage.queue_size</td><td style=text-align:left>The size, in chunks, of the internal buffers that queue data for transfer to the backend on a per-request basis. A larger value will allow more buffering in the OSG when the client is uploading quickly, but the backend bandwidth is lower and cannot consume data fast enough. Too large a value may result in out-of-memory (OOM) errors if the JVM does not have sufficient heap space to handle the concurrent requests * queue_size.Valid values: integer > 0Default: 100</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3usebackenddns</td><td style=text-align:left>Use DNS virtual-hosted-style bucket names for communication to service backend. Valid values: true</td></tr><tr><td style=text-align:left>objectstorage.s3provider.s3usehttps</td><td style=text-align:left>Whether or not to use HTTPS for the connections to the backend provider. If you configure this, be sure you can use the backend properly with HTTPS (certs, etc.) or the OSG will fail to connect. For RiakCS, you must configure certificates and identities to support HTTPS; it is not enabled in a default RiakCS installation.Valid values: true</td></tr></tbody></table></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Community forums" aria-label="Community forums"><a class=text-white target=_blank rel=noopener href=https://github.com/orgs/eucastack/discussions aria-label="Community forums"><i class="fa fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/eucastack aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/eucastack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/eucastack aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/A9UPtck4 aria-label=Discord><i class="fab fa-discord"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 EucaStack All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.6f618f935d0e212fc39316b4023fa69460fd4a5779211bdc3535ec542578f225.js integrity="sha256-b2GPk10OIS/Dkxa0Aj+mlGD9Sld5IRvcNTXsVCV48iU=" crossorigin=anonymous></script></body></html>